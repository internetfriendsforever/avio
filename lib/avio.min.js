(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports['this']=t():e['this']=t()})('undefined'==typeof self?this:self,function(){var e=Math.PI,t=Math.max,n=Math.min;return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=42)}([function(e){var t=Array.isArray;e.exports=t},function(e,t,n){var r=n(28),i='object'==typeof self&&self&&self.Object===Object&&self,a=r||i||Function('return this')();e.exports=a},function(e,t,n){var r=n(60),i=n(65);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(4),i=n(61),a=n(62),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?'[object Undefined]':'[object Null]':o&&o in Object(e)?i(e):a(e)}},function(e,t,n){var r=n(1),i=r.Symbol;e.exports=i},function(e){e.exports=function(e){return null!=e&&'object'==typeof e}},function(e,t,r){'use strict';function i(){return{width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio}}function a(){const{width:e,height:t}=y;e<t?g.scale(1,e/t):g.scale(t/e,1)}function o(e){g.save(),g.fillStyle='black',g.scale(y.width,y.height),g.fillRect(0,0,1,1),g.lineWidth=1/n(y.width,y.height),Object.keys(e).forEach((t)=>{e[t].forEach((e)=>{g.save(),b[t](e,a),g.restore()})}),g.restore()}function l(e){const t=e.type;E[t].push(e),x&&x.offValue(o);const n=h()(u()(E,(e)=>u()(e,(e)=>e.kefirProperty)));return x=Object(m.a)(Object(s.combine)([v,...n],(e,...t)=>c()(t,(e)=>e.type))).onValue(o),e}var s=r(12),d=r.n(s),_=r(47),u=r.n(_),p=r(130),c=r.n(p),f=r(136),h=r.n(f),m=r(139);const y=document.createElement('canvas'),g=y.getContext('2d');window.addEventListener('load',()=>{document.body.style.margin=0,document.body.appendChild(y)}),y.style.width='100%',y.style.height='100%',y.style.display='block';const v=Object(s.fromEvents)(window,'resize').map(i).toProperty(i);v.onValue(function(e){y.width=e.width,y.height=e.height});const b={},E={};let x;t.a=function({type:e,props:t,render:n}){return E[e]=[],b[e]=n(g),function(){let n;const r=Object.assign({},t),i={};Object.keys(r).forEach((e)=>{Object.defineProperty(i,e,{configurable:!1,enumerable:!1,writable:!1,value(t){return r[e]=t,n&&n.emit(r),i}})});const a=Object(s.stream)((t)=>{n=t}).toProperty(()=>r);return Object.defineProperty(i,'kefirProperty',{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(r,'type',{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(i,'type',{configurable:!1,enumerable:!1,writable:!1,value:e}),l(i)}}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(50),a=n(51),o=n(52),l=n(53),s=n(54);r.prototype.clear=i,r.prototype['delete']=a,r.prototype.get=o,r.prototype.has=l,r.prototype.set=s,e.exports=r},function(e,t,n){var r=n(26);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(2),i=r(Object,'create');e.exports=i},function(e,t,n){var r=n(74);e.exports=function(e,t){var n=e.__data__;return r(t)?n['string'==typeof t?'string':'hash']:n.map}},function(e,t,n){var r=n(21);e.exports=function(e){if('string'==typeof e||r(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,r,i){(function(e){(function(e,t){t(r)})(this,function(r){'use strict';function a(e){var t=function(){};return t.prototype=e,new t}function o(e){var t,n,r=arguments.length;for(t=1;t<r;t++)for(n in arguments[t])e[n]=arguments[t][n];return e}function i(e,t){var n,r=arguments.length;for(e.prototype=a(t.prototype),e.prototype.constructor=e,n=2;n<r;n++)o(e.prototype,arguments[n]);return e}function l(e,t){var n,r,a,i;if(0===e.length)return t;if(0===t.length)return e;for(i=0,n=Array(e.length+t.length),r=e.length,a=0;a<r;a++,i++)n[i]=e[a];for(r=t.length,a=0;a<r;a++,i++)n[i]=t[a];return n}function s(e,t){var n,r=e.length;for(n=0;n<r;n++)if(e[n]===t)return n;return-1}function d(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n]))return n;return-1}function _(e){var t,n=e.length,r=Array(n);for(t=0;t<n;t++)r[t]=e[t];return r}function u(e,t){var n,r,i,a=e.length;if(0<=t&&t<a){if(1===a)return[];for(n=Array(a-1),r=0,i=0;r<a;r++)r!==t&&(n[i]=e[r],i++);return n}return e}function p(e,t){var n,r=e.length,i=Array(r);for(n=0;n<r;n++)i[n]=t(e[n]);return i}function c(e,t){var n,r=e.length;for(n=0;n<r;n++)t(e[n])}function h(e,t){var n,r=e.length;for(n=0;n<r;n++)e[n]=t}function m(e,t){return-1!==s(e,t)}function y(e,t,r){var a,i=n(r,e.length+1),o=e.length-i+1,l=Array(i);for(a=o;a<i;a++)l[a-o]=e[a];return l[i-1]=t,l}function g(e,t,n){e===pt?t(n):e===n.type&&(e===_t||e===ut?t(n.value):t())}function v(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function b(){this._dispatcher=new v,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function E(){b.call(this)}function x(){b.call(this),this._currentEvent=null}function T(){return ct}function A(e){function t(e,t){var n=this;E.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return i(t,E,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){E.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}function V(e,t){return new ft(e,{x:t})}function C(e,t){return new S(e,{x:t})}function I(e,t){return 0===t.length?T():new ht(e,{xs:t})}function w(e,t){return new mt(e,{fn:t})}function k(t){function e(e){return t._emitValue(e),t._active}function n(n){return t._emit(n.type,n.value),t._active}return{value:e,error:function(e){return t._emitError(e),t._active},end:function(){return t._emitEnd(),t._active},event:n,emit:e,emitEvent:n}}function O(e,t){return new yt(e,{fn:t})}function $(e){E.call(this),this._fn=e,this._unsubscribe=null}function j(e){return new $(e)}function D(e){var t=!1;return j(function(n){t||(e(function(e){n.emit(e),n.end()}),t=!0)}).setName('fromCallback')}function L(e){var t=!1;return j(function(n){t||(e(function(e,t){e?n.error(e):n.emit(t),n.end()}),t=!0)}).setName('fromNodeCallback')}function N(e,t){return 0===t?function(){return e()}:1===t?function(t){return e(t[0])}:2===t?function(t){return e(t[0],t[1])}:3===t?function(t){return e(t[0],t[1],t[2])}:4===t?function(t){return e(t[0],t[1],t[2],t[3])}:function(t){return e.apply(null,t)}}function z(e,t,n){var r=n?n.length:0;return null==t?0===r?e():1===r?e(n[0]):2===r?e(n[0],n[1]):3===r?e(n[0],n[1],n[2]):4===r?e(n[0],n[1],n[2],n[3]):e.apply(null,n):0===r?e.call(t):e.apply(t,n)}function H(e,t,n){return j(function(r){var i=n?function(){r.emit(z(n,this,arguments))}:function(e){r.emit(e)};return e(i),function(){return t(i)}}).setName('fromSubUnsub')}function M(e,t,n){for(var r=void 0,a=void 0,o=0;o<gt.length;o++)if('function'==typeof e[gt[o][0]]&&'function'==typeof e[gt[o][1]]){r=gt[o][0],a=gt[o][1];break}if(r===void 0)throw new Error('target don\'t support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair');return H(function(n){return e[r](t,n)},function(n){return e[a](t,n)},n).setName('fromEvents')}function W(e){this._currentEvent={type:'value',value:e,current:!0}}function P(e){return new W(e)}function q(e){this._currentEvent={type:'error',value:e,current:!0}}function R(e){return new q(e)}function F(e,t){return function(n,r){var i=this;e.call(this),this._source=n,this._name=n._name+'.'+t,this._init(r),this._$handleAny=function(e){return i._handleAny(e)}}}function Y(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case _t:return this._handleValue(e.value);case ut:return this._handleError(e.value);case dt:return this._handleEnd();}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function U(e,t){var n=F(E,e);return i(n,E,Y(E),t),n}function X(e,t){var n=F(x,e);return i(n,x,Y(x),t),n}function B(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;if(null!==t&&'function'!=typeof t)throw new Error('You should call toProperty() with a function or no arguments.');return new vt(e,{fn:t})}function Q(e){return new bt(e)}function G(e){var t=!1,n=j(function(n){if(!t){var r=function(e){n.emit(e),n.end()},i=function(e){n.error(e),n.end()},a=e.then(r,i);a&&'function'==typeof a.done&&a.done(),t=!0}});return B(n,null).setName('fromPromise')}function K(){if('function'==typeof Promise)return Promise;throw new Error('There isn\'t default Promise, use shim or parameter')}function Z(e,t){return t={exports:{}},e(t,t.exports),t.exports}function J(e){var t=e[Vt]?e[Vt]():e;return j(function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName('fromESObservable')}function ee(e){this._observable=e.takeErrors(1)}function te(){return new ee(this)}function ne(e,t,n){for(var r in e)e.hasOwnProperty(r)&&(t.push(r),n.push(e[r]))}function re(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0==t||t.index<e[n].index)&&(t=e[n]);return t.error}function ie(e,t,n){var r=this;E.call(this),this._activeCount=e.length,this._sources=l(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=Array(this._sources.length),this._latestErrors=Array(this._sources.length),h(this._latestValues,st),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var a=function(e){r._$handlers.push(function(t){return r._handleAny(e,t)})},o=0;o<this._sources.length;o++)a(o)}function ae(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error('Combine can only combine active and passive collections of the same type.');return n=n?N(n,e.length+t.length):function(e){return e},0===e.length?T():new ie(e,t,n)}function oe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=arguments[2];if('object'!=typeof t||Array.isArray(t))throw new Error('Combine can only combine active and passive collections of the same type.');var r=[],i=[],a=[];ne(e,r,i),ne(t,r,a);return 0===i.length?T():new ie(i,a,function(e){for(var t={},a=e.length-1;0<=a;a--)t[r[a]]=e[a];return n?n(t):t})}function le(e,t,n){return'function'==typeof t&&(n=t,t=void 0),Array.isArray(e)?ae(e,t,n):oe(e,t,n)}function se(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:kt;return new(e._ofSameType(It,wt))(e,{fn:t})}function de(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Dt;return new(e._ofSameType($t,jt))(e,{fn:t})}function _e(e,t){return new(e._ofSameType(Nt,zt))(e,{n:t})}function ue(e,t){return new(e._ofSameType(Mt,Wt))(e,{n:t})}function pe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Yt;return new(e._ofSameType(Rt,Ft))(e,{fn:t})}function ce(e){return new(e._ofSameType(Xt,Bt))(e)}function fe(e,t){return new(e._ofSameType(Gt,Kt))(e,{n:t})}function he(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:tn;return new(e._ofSameType(Jt,en))(e,{fn:t})}function me(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:on;return new(e._ofSameType(rn,an))(e,{fn:t})}function ye(e,t){return[e,t]}function ge(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:st;return new(e._ofSameType(sn,dn))(e,{fn:t||ye,seed:n})}function ve(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:st;return new _n(e,{fn:t,seed:n})}function be(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:pn;return new un(e,{fn:t})}function Ee(e,t){return new(e._ofSameType(hn,mn))(e,{wait:t})}function xe(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.leading,i=n.trailing;return new(e._ofSameType(vn,bn))(e,{wait:t,leading:!(r!==void 0)||r,trailing:!(i!==void 0)||i})}function Te(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.immediate;return new(e._ofSameType(xn,Tn))(e,{wait:t,immediate:r!==void 0&&r})}function Ae(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Pn;return new(e._ofSameType(Sn,Vn))(e,{fn:t})}function Se(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:kn;return new(e._ofSameType(In,wn))(e,{fn:t})}function Ve(e){return new(e._ofSameType($n,jn))(e)}function Pe(e){return new(e._ofSameType(Ln,Nn))(e)}function Ce(e){return new(e._ofSameType(Hn,Mn))(e)}function Ie(e,t){return new(e._ofSameType(qn,Rn))(e,{fn:t})}function we(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return new(e._ofSameType(Yn,Un))(e,{min:n,max:t})}function ke(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.flushOnEnd;return new(e._ofSameType(Bn,Qn))(e,{fn:t||Gn,flushOnEnd:!(r!==void 0)||r})}function Oe(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.flushOnEnd;return new(e._ofSameType(Zn,Jn))(e,{count:t,flushOnEnd:!(r!==void 0)||r})}function $e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},i=r.flushOnEnd;return new(e._ofSameType(tr,nr))(e,{wait:t,count:n,flushOnEnd:!(i!==void 0)||i})}function je(e){return{"@@transducer/step":function(t,n){return e._emitValue(n),null},"@@transducer/result":function(){return e._emitEnd(),null}}}function De(e,t){return new(e._ofSameType(ir,ar))(e,{transducer:t})}function Le(e,t){return new(e._ofSameType(lr,sr))(e,{fn:t})}function Ne(e,t){var n=this;E.call(this),this._buffers=p(e,function(e){return dr(e)?_(e):[]}),this._sources=p(e,function(e){return dr(e)?T():e}),this._combinator=t?N(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var r=function(e){n._$handlers.push(function(t){return n._handleAny(e,t)})},a=0;a<this._sources.length;a++)r(a)}function ze(e,t){return 0===e.length?T():new Ne(e,t)}function He(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},n=t.queueLim,r=n===void 0?0:n,i=t.concurLim,a=i===void 0?-1:i,o=t.drop,l=o===void 0?'new':o;E.call(this),this._queueLim=0>r?-1:r,this._concurLim=0>a?-1:a,this._drop=l,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Me(e){He.call(this),this._addAll(e),this._initialised=!0}function We(e){return 0===e.length?T():new Me(e)}function qe(e){var t=this;E.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}function Re(e){return ur(function(t){return!!(e.length>t)&&e[t]}).setName('concat')}function Fe(){He.call(this)}function Ye(e,t,n){var r=this;He.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return r._handleMain(e)}}function Ue(e,t){Ye.call(this,e,t)}function Xe(e,t){return function(n,r,i){var a=this;e.call(this),this._primary=n,this._secondary=r,this._name=n._name+'.'+t,this._lastSecondary=st,this._$handleSecondaryAny=function(e){return a._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return a._handlePrimaryAny(e)},this._init(i)}}function Be(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case _t:return this._handlePrimaryValue(e.value);case ut:return this._handlePrimaryError(e.value);case dt:return this._handlePrimaryEnd(e.value);}},_handleSecondaryAny:function(e){switch(e.type){case _t:return this._handleSecondaryValue(e.value);case ut:return this._handleSecondaryError(e.value);case dt:this._handleSecondaryEnd(e.value),this._removeSecondary();}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Qe(e,t){var n=Xe(E,e);return i(n,E,Be(E),t),n}function Ge(e,t){var n=Xe(x,e);return i(n,x,Be(x),t),n}function Ke(e,t){return new(e._ofSameType(cr,fr))(e,t)}function Ze(e,t,n){var r=n?function(e,t){return n(t,e)}:hr;return le([t],[e],r).setName(e,'sampledBy')}function Je(e,t){return new(e._ofSameType(yr,gr))(e,t)}function et(e,t){return new(e._ofSameType(br,Er))(e,t)}function tt(e,t,n){return new(e._ofSameType(Tr,Ar))(e,t,n)}function nt(e,t,n){return new(e._ofSameType(Vr,Pr))(e,t,n)}function rt(e,t){var n=We([se(e,f),se(t,Cr)]);return n=me(n),n=B(n,Cr),n.setName(e,'awaiting')}function it(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Or;return new(e._ofSameType(wr,kr))(e,{fn:t})}function at(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Lr;return new(e._ofSameType(jr,Dr))(e,{fn:t})}function ot(e){return new(e._ofSameType(zr,Hr))(e)}function lt(e){if(Wr&&console&&'function'==typeof console.warn){console.warn(e,'\nHere is an Error object for you containing the call stack:',new Error)}}var st=['<nothing>'],dt='end',_t='value',ut='error',pt='any';o(v.prototype,{add:function(e,t){return this._items=l(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=d(this._items,function(n){return n.type===e&&n.fn===t});return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=u(this._items,n),this._items.length},addSpy:function(e){return this._spies=l(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=u(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var r=0,i=this._items;r<i.length&&!(null===this._items);r++)if(!(null!==this._removedItems&&m(this._removedItems,i[r]))){g(i[r].type,i[r].fn,e)}this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),o(b.prototype,{_name:'observable',_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){return e===_t?this._emitValue(t):e===ut?this._emitError(t):e===dt?this._emitEnd():void 0},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:_t,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:ut,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:dt}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):g(e,t,{type:dt}),this},_off:function(e,t){if(this._alive){var n=this._dispatcher.remove(e,t);0===n&&this._setActive(!1)}return this},onValue:function(e){return this._on(_t,e)},onError:function(e){return this._on(ut,e)},onEnd:function(e){return this._on(dt,e)},onAny:function(e){return this._on(pt,e)},offValue:function(e){return this._off(_t,e)},offError:function(e){return this._off(ut,e)},offEnd:function(e){return this._off(dt,e)},offAny:function(e){return this._off(pt,e)},observe:function(e,t,n){var r=this,i=!1,a=e&&'function'!=typeof e?e:{value:e,error:t,end:n},o=function(e){e.type===dt&&(i=!0),e.type===_t&&a.value?a.value(e.value):e.type===ut&&a.error?a.error(e.value):e.type===dt&&a.end&&a.end(e.value)};return this.onAny(o),{unsubscribe:function(){i||(r.offAny(o),i=!0)},get closed(){return i}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+'.'+t:e,this},log:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),n=function(n){var r='<'+n.type+(e?':current':'')+'>';n.type===dt?console.log(t,r):console.log(t,r,n.value)};return this._alive&&(!this._logHandlers&&(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),e=!0,this.onAny(n),e=!1,this},offLog:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var t=d(this._logHandlers,function(t){return t.name===e});-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n='<'+t.type+'>';t.type===dt?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(!this._spyHandlers&&(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var t=d(this._spyHandlers,function(t){return t.name===e});-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),b.prototype.toString=function(){return'['+this._name+']'},i(E,b,{_name:'stream',getType:function(){return'stream'}}),i(x,b,{_name:'property',_emitValue:function(e){this._alive&&(this._currentEvent={type:_t,value:e},!this._activating&&this._dispatcher.dispatch({type:_t,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:ut,value:e},!this._activating&&this._dispatcher.dispatch({type:ut,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,!this._activating&&this._dispatcher.dispatch({type:dt}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&g(e,t,this._currentEvent),this._alive||g(e,t,{type:dt}),this},getType:function(){return'property'}});var ct=new E;ct._emitEnd(),ct._name='never';var ft=A({_name:'later',_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),S=A({_name:'interval',_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),ht=A({_name:'sequentially',_init:function(e){var t=e.xs;this._xs=_(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),mt=A({_name:'fromPoll',_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}}),yt=A({_name:'withInterval',_init:function(e){var t=e.fn;this._fn=t,this._emitter=k(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var e=this._fn;e(this._emitter)}});i($,E,{_name:'stream',_onActivation:function(){var e=this._fn,t=e(k(this));this._unsubscribe='function'==typeof t?t:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){E.prototype._clear.call(this),this._fn=null}});var gt=[['addEventListener','removeEventListener'],['addListener','removeListener'],['on','off']];i(W,x,{_name:'constant',_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),i(q,x,{_name:'constantError',_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var vt=X('toProperty',{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}}),bt=U('changes',{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}}),Et=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:K(),n=null;return new t(function(t,r){e.onAny(function(e){e.type===dt&&null!=n?((n.type===_t?t:r)(n.value),n=null):n=e})})},xt='undefined'==typeof window?'undefined'==typeof e?'undefined'==typeof self?{}:self:e:window,Tt=Z(function(e,t){Object.defineProperty(t,'__esModule',{value:!0}),t['default']=function(e){var t,n=e.Symbol;return'function'==typeof n?n.observable?t=n.observable:(t=n('observable'),n.observable=t):t='@@observable',t}}),At=Z(function(e,t){Object.defineProperty(t,'__esModule',{value:!0});var n,r=function(e){return e&&e.__esModule?e:{default:e}}(Tt);n='undefined'==typeof self?'undefined'==typeof window?'undefined'==typeof xt?e:xt:window:self;var i=(0,r['default'])(n);t['default']=i}),St=At,Vt=St.default?St.default:St;o(ee.prototype,{subscribe:function(e,t,n){var r=this,i='function'==typeof e?{next:e,error:t,complete:n}:e,a=function(e){e.type===dt&&(o=!0),e.type===_t&&i.next?i.next(e.value):e.type===ut&&i.error?i.error(e.value):e.type===dt&&i.complete&&i.complete(e.value)};this._observable.onAny(a);var o=!1,l={unsubscribe:function(){o=!0,r._observable.offAny(a)},get closed(){return o}};return l}}),ee.prototype[Vt]=function(){return this},i(ie,E,{_name:'combine',_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e,t=this._sources.length;for(e=0;e<t;e++)this._sources[e].offAny(this._$handlers[e])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,r=Array(n),a=Array(n),o=0;o<n;o++)r[o]=this._latestValues[o],a[o]=this._latestErrors[o],r[o]===st&&(e=!1),void 0!==a[o]&&(t=!0);if(e){var i=this._combinator;this._emitValue(i(r))}t&&this._emitError(re(a))},_handleAny:function(e,t){t.type===_t||t.type===ut?(t.type===_t&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===ut&&(this._latestValues[e]=st,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Pt=Object.freeze({Observable:{empty:function(){return T()},concat:function(e,t){return e.merge(t)},of:function(e){return P(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return le([e,t],function(e,t){return e(t)})},chain:function(e,t){return t.flatMap(e)}}}),Ct={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},It=U('map',Ct),wt=X('map',Ct),kt=function(e){return e},Ot={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)&&this._emitValue(e)}},$t=U('filter',Ot),jt=X('filter',Ot),Dt=function(e){return e},Lt={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleValue:function(e){0===this._n||(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},Nt=U('take',Lt),zt=X('take',Lt),Ht={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleError:function(e){0===this._n||(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},Mt=U('takeErrors',Ht),Wt=X('takeErrors',Ht),qt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)?this._emitValue(e):this._emitEnd()}},Rt=U('takeWhile',qt),Ft=X('takeWhile',qt),Yt=function(e){return e},Ut={_init:function(){this._lastValue=st},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==st&&this._emitValue(this._lastValue),this._emitEnd()}},Xt=U('last',Ut),Bt=X('last',Ut),Qt={_init:function(e){var r=e.n;this._n=t(0,r)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Gt=U('skip',Qt),Kt=X('skip',Qt),Zt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},Jt=U('skipWhile',Zt),en=X('skipWhile',Zt),tn=function(e){return e},nn={_init:function(e){var t=e.fn;this._fn=t,this._prev=st},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==st&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},rn=U('skipDuplicates',nn),an=X('skipDuplicates',nn),on=function(e,t){return e===t},ln={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==st){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},sn=U('diff',ln),dn=X('diff',ln),_n=X('scan',{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==st&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===ut?this._emitValue(this._seed===st?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),un=U('flatten',{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=this._fn,n=t(e),r=0;r<n.length;r++)this._emitValue(n[r])}}),pn=function(e){return e},cn={},fn={_init:function(e){var n=this,r=e.wait;this._wait=t(0,r),this._buff=[],this._$shiftBuff=function(){var e=n._buff.shift();e===cn?n._emitEnd():n._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(cn),setTimeout(this._$shiftBuff,this._wait))}},hn=U('delay',fn),mn=X('delay',fn),yn=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},gn={_init:function(e){var n=this,r=e.wait,i=e.leading,a=e.trailing;this._wait=t(0,r),this._leading=i,this._trailing=a,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=yn();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);0>=n?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?yn():0,this._endLater&&this._emitEnd()}},vn=U('throttle',gn),bn=X('throttle',gn),En={_init:function(e){var n=this,r=e.wait,i=e.immediate;this._wait=t(0,r),this._immediate=i,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=yn(),this._immediate&&!this._timeoutId&&this._emitValue(e),!this._timeoutId&&(this._timeoutId=setTimeout(this._$later,this._wait)),!this._immediate&&(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=yn()-this._lastAttempt;e<this._wait&&0<=e?this._timeoutId=setTimeout(this._$later,this._wait-e):(this._timeoutId=null,!this._immediate&&(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},xn=U('debounce',En),Tn=X('debounce',En),An={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},Sn=U('mapErrors',An),Vn=X('mapErrors',An),Pn=function(e){return e},Cn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;t(e)&&this._emitError(e)}},In=U('filterErrors',Cn),wn=X('filterErrors',Cn),kn=function(e){return e},On={_handleValue:function(){}},$n=U('ignoreValues',On),jn=X('ignoreValues',On),Dn={_handleError:function(){}},Ln=U('ignoreErrors',Dn),Nn=X('ignoreErrors',Dn),zn={_handleEnd:function(){}},Hn=U('ignoreEnd',zn),Mn=X('ignoreEnd',zn),Wn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},qn=U('beforeEnd',Wn),Rn=X('beforeEnd',Wn),Fn={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=y(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Yn=U('slidingWindow',Fn),Un=X('slidingWindow',Fn),Xn={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e);var t=this._fn;t(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Bn=U('bufferWhile',Xn),Qn=X('bufferWhile',Xn),Gn=function(e){return e},Kn={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Zn=U('bufferWithCount',Kn),Jn=X('bufferWithCount',Kn),er={_init:function(e){var t=this,n=e.wait,r=e.count,i=e.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},tr=U('bufferWithTimeOrCount',er),nr=X('bufferWithTimeOrCount',er),rr={_init:function(e){var t=e.transducer;this._xform=t(je(this))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform['@@transducer/step'](null,e)&&this._xform['@@transducer/result'](null)},_handleEnd:function(){this._xform['@@transducer/result'](null)}},ir=U('transduce',rr),ar=X('transduce',rr),or={_init:function(e){var t=e.fn;this._handler=t,this._emitter=k(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},lr=U('withHandler',or),sr=X('withHandler',or),dr=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)};i(Ne,E,{_name:'zip',_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===_t&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===ut&&this._emitError(t.value),t.type===dt&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var _r=function(e){return e};i(He,E,{_name:'abstractPool',_add:function(e,t){t=t||_r,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):'old'===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;c(e,function(e){return t._add(e)})},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=l(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return void(e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive&&(this._curSources=l(this._curSources,[e]),this._active&&this._subToEnd(e))}else this._curSources=l(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=d(this._$endHandlers,function(t){return t.obs===e});-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===_t?this._emitValue(e.value):e.type===ut&&this._emitError(e.value)},_removeQueue:function(e){var t=s(this._queue,e);return this._queue=u(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=s(this._curSources,e);return this._curSources=u(this._curSources,t),-1!==t&&(0===this._queue.length?0===this._curSources.length&&this._onEmpty():this._pullQueue()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=_(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){E.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),i(Me,He,{_name:'merge',_onEmpty:function(){this._initialised&&this._emitEnd()}}),i(qe,E,{_name:'repeat',_handleAny:function(e){e.type===dt?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){E.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var ur=function(e){return new qe(e)};i(Fe,He,{_name:'pool',plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),i(Ye,He,{_onActivation:function(){He.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){He.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){if(e.type===_t){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===ut&&this._emitError(e.value),e.type===dt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){He.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),i(Ue,Ye,{_handleMain:function(e){if(e.type===ut){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===_t&&this._emitValue(e.value),e.type===dt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var pr={_handlePrimaryValue:function(e){this._lastSecondary!==st&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==st&&this._lastSecondary||this._emitEnd()}},cr=Qe('filterBy',pr),fr=Ge('filterBy',pr),hr=function(e,t){return t},mr={_handlePrimaryValue:function(e){this._lastSecondary!==st&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===st&&this._emitEnd()}},yr=Qe('skipUntilBy',mr),gr=Ge('skipUntilBy',mr),vr={_handleSecondaryValue:function(){this._emitEnd()}},br=Qe('takeUntilBy',vr),Er=Ge('takeUntilBy',vr),xr={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd;this._buff=[],this._flushOnEnd=!(t!==void 0)||t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},Tr=Qe('bufferBy',xr),Ar=Ge('bufferBy',xr),Sr={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd,n=e.flushOnChange;this._buff=[],this._flushOnEnd=!(t!==void 0)||t,this._flushOnChange=n!==void 0&&n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===st||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===st||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},Vr=Qe('bufferWhileBy',Sr),Pr=Ge('bufferWhileBy',Sr),Cr=function(){return!1},f=function(){return!0},Ir={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn,n=t(e);n.convert?this._emitError(n.error):this._emitValue(e)}},wr=U('valuesToErrors',Ir),kr=X('valuesToErrors',Ir),Or=function(e){return{convert:!0,error:e}},$r={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn,n=t(e);n.convert?this._emitValue(n.value):this._emitError(e)}},jr=U('errorsToValues',$r),Dr=X('errorsToValues',$r),Lr=function(e){return{convert:!0,value:e}},Nr={_handleError:function(e){this._emitError(e),this._emitEnd()}},zr=U('endOnError',Nr),Hr=X('endOnError',Nr);b.prototype.toProperty=function(e){return B(this,e)},b.prototype.changes=function(){return Q(this)},b.prototype.toPromise=function(e){return Et(this,e)},b.prototype.toESObservable=te,b.prototype[Vt]=te,b.prototype.map=function(e){return se(this,e)},b.prototype.filter=function(e){return de(this,e)},b.prototype.take=function(e){return _e(this,e)},b.prototype.takeErrors=function(e){return ue(this,e)},b.prototype.takeWhile=function(e){return pe(this,e)},b.prototype.last=function(){return ce(this)},b.prototype.skip=function(e){return fe(this,e)},b.prototype.skipWhile=function(e){return he(this,e)},b.prototype.skipDuplicates=function(e){return me(this,e)},b.prototype.diff=function(e,t){return ge(this,e,t)},b.prototype.scan=function(e,t){return ve(this,e,t)},b.prototype.flatten=function(e){return be(this,e)},b.prototype.delay=function(e){return Ee(this,e)},b.prototype.throttle=function(e,t){return xe(this,e,t)},b.prototype.debounce=function(e,t){return Te(this,e,t)},b.prototype.mapErrors=function(e){return Ae(this,e)},b.prototype.filterErrors=function(e){return Se(this,e)},b.prototype.ignoreValues=function(){return Ve(this)},b.prototype.ignoreErrors=function(){return Pe(this)},b.prototype.ignoreEnd=function(){return Ce(this)},b.prototype.beforeEnd=function(e){return Ie(this,e)},b.prototype.slidingWindow=function(e,t){return we(this,e,t)},b.prototype.bufferWhile=function(e,t){return ke(this,e,t)},b.prototype.bufferWithCount=function(e,t){return Oe(this,e,t)},b.prototype.bufferWithTimeOrCount=function(e,t,n){return $e(this,e,t,n)},b.prototype.transduce=function(e){return De(this,e)},b.prototype.withHandler=function(e){return Le(this,e)},b.prototype.thru=function(e){return e(this)},b.prototype.combine=function(e,t){return le([this,e],t)},b.prototype.zip=function(e,t){return ze([this,e],t)},b.prototype.merge=function(e){return We([this,e])},b.prototype.concat=function(e){return Re([this,e])};var Mr=function(){return new Fe};b.prototype.flatMap=function(e){return new Ye(this,e).setName(this,'flatMap')},b.prototype.flatMapLatest=function(e){return new Ye(this,e,{concurLim:1,drop:'old'}).setName(this,'flatMapLatest')},b.prototype.flatMapFirst=function(e){return new Ye(this,e,{concurLim:1}).setName(this,'flatMapFirst')},b.prototype.flatMapConcat=function(e){return new Ye(this,e,{queueLim:-1,concurLim:1}).setName(this,'flatMapConcat')},b.prototype.flatMapConcurLimit=function(e,t){return new Ye(this,e,{queueLim:-1,concurLim:t}).setName(this,'flatMapConcurLimit')},b.prototype.flatMapErrors=function(e){return new Ue(this,e).setName(this,'flatMapErrors')},b.prototype.filterBy=function(e){return Ke(this,e)},b.prototype.sampledBy=function(e,t){return Ze(this,e,t)},b.prototype.skipUntilBy=function(e){return Je(this,e)},b.prototype.takeUntilBy=function(e){return et(this,e)},b.prototype.bufferBy=function(e,t){return tt(this,e,t)},b.prototype.bufferWhileBy=function(e,t){return nt(this,e,t)};var Wr=!0;b.prototype.awaiting=function(e){return lt('You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145'),rt(this,e)},b.prototype.valuesToErrors=function(e){return lt('You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149'),it(this,e)},b.prototype.errorsToValues=function(e){return lt('You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149'),at(this,e)},b.prototype.endOnError=function(){return lt('You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150'),ot(this)};var qr={Observable:b,Stream:E,Property:x,never:T,later:V,interval:C,sequentially:I,fromPoll:w,withInterval:O,fromCallback:D,fromNodeCallback:L,fromEvents:M,stream:j,constant:P,constantError:R,fromPromise:G,fromESObservable:J,combine:le,zip:ze,merge:We,concat:Re,Pool:Fe,pool:Mr,repeat:ur,staticLand:Pt};qr.Kefir=qr,r.dissableDeprecationWarnings=function(){Wr=!1},r.Kefir=qr,r.Observable=b,r.Stream=E,r.Property=x,r.never=T,r.later=V,r.interval=C,r.sequentially=I,r.fromPoll=w,r.withInterval=O,r.fromCallback=D,r.fromNodeCallback=L,r.fromEvents=M,r.stream=j,r.constant=P,r.constantError=R,r.fromPromise=G,r.fromESObservable=J,r.combine=le,r.zip=ze,r.merge=We,r.concat=Re,r.Pool=Fe,r.pool=Mr,r.repeat=ur,r.staticLand=Pt,r['default']=qr,Object.defineProperty(r,'__esModule',{value:!0})})}).call(r,i(22))},function(e,t,n){var r=n(2),i=n(1),a=r(i,'Map');e.exports=a},function(e){e.exports=function(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(66),a=n(73),o=n(75),l=n(76),s=n(77);r.prototype.clear=i,r.prototype['delete']=a,r.prototype.get=o,r.prototype.has=l,r.prototype.set=s,e.exports=r},function(e,t,n){var r=n(94),i=n(101),a=n(19);e.exports=function(e){return a(e)?r(e):i(e)}},function(e,t,n){var r=n(96),i=n(5),a=Object.prototype,o=a.hasOwnProperty,l=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,'callee')&&!l.call(e,'callee')};e.exports=s},function(e){e.exports=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e,t,n){var r=n(27),i=n(18);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(0),i=n(21),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return'number'==n||'symbol'==n||'boolean'==n||null==e||i(e)||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(3),i=n(5);e.exports=function(e){return'symbol'==typeof e||i(e)&&r(e)=='[object Symbol]'}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(48),i=n(111),a=n(121),o=n(0),l=n(122);e.exports=function(e){return'function'==typeof e?e:null==e?a:'object'==typeof e?o(e)?i(e[0],e[1]):r(e):l(e)}},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(7),a=n(55),o=n(56),l=n(57),s=n(58),d=n(59);r.prototype.clear=a,r.prototype['delete']=o,r.prototype.get=l,r.prototype.has=s,r.prototype.set=d,e.exports=r},function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(3),i=n(14);e.exports=function(e){if(!i(e))return!1;var t=r(e);return t=='[object Function]'||t=='[object GeneratorFunction]'||t=='[object AsyncFunction]'||t=='[object Proxy]'}},function(e,t,n){(function(t){var n='object'==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(22))},function(e){var t=Function.prototype,n=t.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e,t,n){function r(e,t,n,o,l){return!(e!==t)||(null!=e&&null!=t&&(a(e)||a(t))?i(e,t,n,o,r,l):e!==e&&t!==t)}var i=n(78),a=n(5);e.exports=r},function(e,t,n){var r=n(79),i=n(82),a=n(83);e.exports=function(e,t,n,o,l,s){var d=n&1,_=e.length,u=t.length;if(_!=u&&!(d&&u>_))return!1;var p=s.get(e);if(p&&s.get(t))return p==t;var c=-1,f=!0,h=n&2?new r:void 0;for(s.set(e,t),s.set(t,e);++c<_;){var m=e[c],y=t[c];if(o)var g=d?o(y,m,c,t,e,s):o(m,y,c,e,t,s);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!i(t,function(e,t){if(!a(h,t)&&(m===e||l(m,e,n,o,s)))return h.push(t)})){f=!1;break}}else if(!(m===y||l(m,y,n,o,s))){f=!1;break}}return s['delete'](e),s['delete'](t),f}},function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){(function(e){var r=n(1),i=n(97),a='object'==typeof t&&t&&!t.nodeType&&t,o=a&&'object'==typeof e&&e&&!e.nodeType&&e,l=o&&o.exports===a,s=l?r.Buffer:void 0,d=s?s.isBuffer:void 0;e.exports=d||i}).call(t,n(34)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){return n=null==n?9007199254740991:n,!!n&&('number'==typeof e||t.test(e))&&-1<e&&0==e%1&&e<n}},function(e,t,n){var r=n(98),i=n(99),a=n(100),o=a&&a.isTypedArray,l=o?i(o):r;e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e){return e===e&&!r(e)}},function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(t!==void 0||e in Object(n))}}},function(e,t,n){var r=n(40),i=n(11);e.exports=function(e,t){t=r(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},function(e,t,n){var r=n(0),i=n(20),a=n(113),o=n(116);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t,n){var r=n(126),i=n(129),a=i(r);e.exports=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var r=n(43),i=n(143),a=n(45),o=n(46),l=n(140),s=n(141),d=n(142);n.d(t,'mouse',function(){return r.a}),n.d(t,'touch',function(){return i.a}),n.d(t,'audio',function(){return a.a}),n.d(t,'circle',function(){return o.a}),n.d(t,'rectangle',function(){return l.a}),n.d(t,'triangle',function(){return s.a}),n.d(t,'line',function(){return d.a})},function(e,t,n){'use strict';var r=n(12),i=n.n(r),a=n(44);t.a={x:Object(a.a)(Object(r.fromEvents)(window,'mousemove').map((t)=>t.clientX/window.innerWidth).skipDuplicates(),0),y:Object(a.a)(Object(r.fromEvents)(window,'mousemove').map((t)=>t.clientY/window.innerHeight).skipDuplicates(),0),down:Object(a.a)(Object(r.merge)([Object(r.fromEvents)(window,'mousedown').map(()=>1),Object(r.fromEvents)(window,'mouseup').map(()=>0)]),0)}},function(e,t,n){'use strict';function r(e){return'number'==typeof e?Object(o.constant)(e):e.kefirProperty}function i(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}function a(e,t=0){const n=e.toProperty(()=>t),l={kefirProperty:n};return Object.keys(s).forEach((e)=>{i(l,e,(...t)=>a(Object(o.combine)([n,...t.map((e)=>r(e))],s[e])))}),i(l,'connect',function(e){return n.onValue(e),this}),i(l,'log',function(){return n.log(),this}),i(l,'throttle',function(...e){return a(n.throttle(...e),0)}),i(l,'delay',function(...e){return a(n.delay(...e),0)}),l}t.a=a;var o=n(12),l=n.n(o);const s={add:(e,t)=>e+t,subtract:(e,t)=>e-t,multiply:(e,t)=>e*t,divide:(e,t)=>e/t,pow:(e,t)=>Math.pow(e,t),floor:(e)=>Math.floor(e),ceil:(e)=>Math.ceil(e)}},function(e,t){'use strict';const n=new window.AudioContext;t.a=function(){const e=n.createOscillator(),t=n.createGain();e.frequency.setTargetAtTime(440,0,0),e.start(),e.connect(t),t.connect(n.destination),t.gain.setTargetAtTime(0,0,0);const r={gain:5e-3,frequency:5e-3};return{sine(){return e.type='sine',this},square(){return e.type='square',this},sawtooth(){return e.type='sawtooth',this},triangle(){return e.type='triangle',this},gainTransitionTime(e){return r.gain=e,this},frequencyTransitionTime(e){return r.frequency=e,this},gain(e){return t.gain.setTargetAtTime(e,0,r.gain),this},frequency(t){return e.frequency.setTargetAtTime(t,0,r.frequency),this}}}},function(n,r,i){'use strict';var a=i(6);r.a=Object(a.a)({type:'circle',props:{x:0,y:0,radius:0.5,hue:0,saturation:1,lightness:0.5,alpha:1},render:(n)=>(r,i)=>{const{x:a,y:o,radius:l,hue:s,saturation:d,lightness:_,alpha:u}=r;n.translate(a,o),i(),n.fillStyle=`hsla(${s}, ${100*d}%, ${100*_}%, ${u})`,n.beginPath(),n.arc(0,0,t(0,l),0,2*e),n.closePath(),n.fill()}})},function(e,t,n){var r=n(23),i=n(24),a=n(125),o=n(0);e.exports=function(e,t){var n=o(e)?r:a;return n(e,i(t,3))}},function(e,t,n){var r=n(49),i=n(110),a=n(38);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(25),i=n(30);e.exports=function(e,t,n,a){var o=n.length,l=o,s=!a;if(null==e)return!l;for(e=Object(e);o--;){var d=n[o];if(s&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<l;){d=n[o];var _=d[0],u=e[_],p=d[1];if(!(s&&d[2])){var c=new r;if(a)var f=a(u,p,_,e,t,c);if(void 0===f?!i(p,u,1|2,a,c):!f)return!1}else if(void 0===u&&!(_ in e))return!1}return!0}},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(8),i=Array.prototype,a=i.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);if(0>n)return!1;var i=t.length-1;return n==i?t.pop():a.call(t,n,1),--this.size,!0}},function(e,t,n){var r=n(8);e.exports=function(e){var t=this.__data__,n=r(t,e);return 0>n?void 0:t[n][1]}},function(e,t,n){var r=n(8);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return 0>i?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=new r,this.size=0}},function(e){e.exports=function(e){var t=this.__data__,n=t['delete'](e);return this.size=t.size,n}},function(e){e.exports=function(e){return this.__data__.get(e)}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(7),i=n(13),a=n(15);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<200-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(27),i=n(63),a=n(14),o=n(29),l=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,d=Function.prototype,_=Object.prototype,u=d.toString,p=_.hasOwnProperty,c=RegExp('^'+u.call(p).replace(l,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');e.exports=function(e){if(!a(e)||i(e))return!1;var t=r(e)?c:s;return t.test(o(e))}},function(e,t,n){var r=n(4),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0}catch(t){}var r=o.call(e);return t?e[l]=n:delete e[l],r}},function(e){var t=Object.prototype,n=t.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(64),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||'');return e?'Symbol(src)_1.'+e:''}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(1),i=r['__core-js_shared__'];e.exports=i},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(67),i=n(7),a=n(13);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(68),a=n(69),o=n(70),l=n(71),s=n(72);r.prototype.clear=i,r.prototype['delete']=a,r.prototype.get=o,r.prototype.has=l,r.prototype.set=s,e.exports=r},function(e,t,n){var r=n(9);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(9),i=Object.prototype,a=i.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n==='__lodash_hash_undefined__'?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(9),i=Object.prototype,a=i.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?t[e]!==void 0:a.call(t,e)}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e,t,n){var r=n(10);e.exports=function(e){var t=r(this,e)['delete'](e);return this.size-=t?1:0,t}},function(e){e.exports=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,n){var r=n(10);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(10);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(10);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(25),i=n(31),a=n(84),o=n(88),l=n(105),s=n(0),d=n(33),_=n(36),u='[object Arguments]',p='[object Array]',c='[object Object]',f=Object.prototype,h=f.hasOwnProperty;e.exports=function(e,t,n,f,m,y){var g=s(e),v=s(t),b=g?p:l(e),E=v?p:l(t);b=b==u?c:b,E=E==u?c:E;var x=b==c,T=E==c,A=b==E;if(A&&d(e)){if(!d(t))return!1;g=!0,x=!1}if(A&&!x)return y||(y=new r),g||_(e)?i(e,t,n,f,m,y):a(e,t,b,n,f,m,y);if(!(n&1)){var S=x&&h.call(e,'__wrapped__'),V=T&&h.call(t,'__wrapped__');if(S||V){var P=S?e.value():e,C=V?t.value():t;return y||(y=new r),m(P,C,n,f,y)}}return!!A&&(y||(y=new r),o(e,t,n,f,m,y))}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(15),a=n(80),o=n(81);r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},function(e){e.exports=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(4),i=n(85),a=n(26),o=n(31),l=n(86),s=n(87),d=r?r.prototype:void 0,_=d?d.valueOf:void 0;e.exports=function(e,t,n,r,d,u,p){switch(n){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return e.byteLength==t.byteLength&&u(new i(e),new i(t));case'[object Boolean]':case'[object Date]':case'[object Number]':return a(+e,+t);case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var c=l;case'[object Set]':var f=r&1;if(c||(c=s),e.size!=t.size&&!f)return!1;var h=p.get(e);if(h)return h==t;r|=2,p.set(e,t);var m=o(c(e),c(t),r,d,u,p);return p['delete'](e),m;case'[object Symbol]':if(_)return _.call(e)==_.call(t);}return!1}},function(e,t,n){var r=n(1),i=r.Uint8Array;e.exports=i},function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(89),i=Object.prototype,a=i.hasOwnProperty;e.exports=function(e,t,n,i,o,l){var s=n&1,d=r(e),_=d.length,u=r(t),p=u.length;if(_!=p&&!s)return!1;for(var c,f=_;f--;)if(c=d[f],s?!(c in t):!a.call(t,c))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=!0;l.set(e,t),l.set(t,e);for(var y=s;++f<_;){c=d[f];var g=e[c],v=t[c];if(i)var b=s?i(v,g,c,t,e,l):i(g,v,c,e,t,l);if(void 0===b?!(g===v||o(g,v,n,i,l)):!b){m=!1;break}y||(y='constructor'==c)}if(m&&!y){var E=e.constructor,x=t.constructor;E!=x&&'constructor'in e&&'constructor'in t&&!('function'==typeof E&&E instanceof E&&'function'==typeof x&&x instanceof x)&&(m=!1)}return l['delete'](e),l['delete'](t),m}},function(e,t,n){var r=n(90),i=n(91),a=n(16);e.exports=function(e){return r(e,a,i)}},function(e,t,n){var r=n(32),i=n(0);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},function(e,t,n){var r=n(92),i=n(93),a=Object.prototype,o=a.propertyIsEnumerable,l=Object.getOwnPropertySymbols,s=l?function(e){return null==e?[]:(e=Object(e),r(l(e),function(t){return o.call(e,t)}))}:i;e.exports=s},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},function(e){e.exports=function(){return[]}},function(e,t,n){var r=n(95),i=n(17),a=n(0),o=n(33),l=n(35),s=n(36),d=Object.prototype,_=d.hasOwnProperty;e.exports=function(e,t){var n=a(e),d=!n&&i(e),u=!n&&!d&&o(e),p=!n&&!d&&!u&&s(e),c=n||d||u||p,f=c?r(e.length,String):[],h=f.length;for(var m in e)(t||_.call(e,m))&&!(c&&('length'==m||u&&('offset'==m||'parent'==m)||p&&('buffer'==m||'byteLength'==m||'byteOffset'==m)||l(m,h)))&&f.push(m);return f}},function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(3),i=n(5);e.exports=function(e){return i(e)&&r(e)=='[object Arguments]'}},function(e){e.exports=function(){return!1}},function(e,t,n){var r=n(3),i=n(18),a=n(5),o={};o['[object Float32Array]']=o['[object Float64Array]']=o['[object Int8Array]']=o['[object Int16Array]']=o['[object Int32Array]']=o['[object Uint8Array]']=o['[object Uint8ClampedArray]']=o['[object Uint16Array]']=o['[object Uint32Array]']=!0,o['[object Arguments]']=o['[object Array]']=o['[object ArrayBuffer]']=o['[object Boolean]']=o['[object DataView]']=o['[object Date]']=o['[object Error]']=o['[object Function]']=o['[object Map]']=o['[object Number]']=o['[object Object]']=o['[object RegExp]']=o['[object Set]']=o['[object String]']=o['[object WeakMap]']=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},function(e){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(28),i='object'==typeof t&&t&&!t.nodeType&&t,a=i&&'object'==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o&&r.process,s=function(){try{return l&&l.binding&&l.binding('util')}catch(t){}}();e.exports=s}).call(t,n(34)(e))},function(e,t,n){var r=n(102),i=n(103),a=Object.prototype,o=a.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&'constructor'!=n&&t.push(n);return t}},function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor,r='function'==typeof n&&n.prototype||t;return e===r}},function(e,t,n){var r=n(104),i=r(Object.keys,Object);e.exports=i},function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(106),i=n(13),a=n(107),o=n(108),l=n(109),s=n(3),d=n(29),_='[object Map]',u='[object Promise]',p='[object Set]',c='[object WeakMap]',f='[object DataView]',h=d(r),m=d(i),y=d(a),g=d(o),v=d(l),b=s;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=_||a&&b(a.resolve())!=u||o&&b(new o)!=p||l&&b(new l)!=c)&&(b=function(e){var t=s(e),n=t=='[object Object]'?e.constructor:void 0,r=n?d(n):'';if(r)switch(r){case h:return f;case m:return _;case y:return u;case g:return p;case v:return c;}return t}),e.exports=b},function(e,t,n){var r=n(2),i=n(1),a=r(i,'DataView');e.exports=a},function(e,t,n){var r=n(2),i=n(1),a=r(i,'Promise');e.exports=a},function(e,t,n){var r=n(2),i=n(1),a=r(i,'Set');e.exports=a},function(e,t,n){var r=n(2),i=n(1),a=r(i,'WeakMap');e.exports=a},function(e,t,n){var r=n(37),i=n(16);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},function(e,t,n){var r=n(30),i=n(112),a=n(118),o=n(20),l=n(37),s=n(38),d=n(11);e.exports=function(e,t){return o(e)&&l(t)?s(d(e),t):function(n){var o=i(n,e);return o===void 0&&o===t?a(n,e):r(t,o,1|2)}}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return i===void 0?n:i}},function(e,t,n){var r=n(114),i=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,l=r(function(e){var t=[];return i.test(e)&&t.push(''),e.replace(a,function(e,n,r,i){t.push(r?i.replace(o,'$1'):n||e)}),t});e.exports=l},function(e,t,n){var r=n(115);e.exports=function(e){var t=r(e,function(e){return n.size===500&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){function r(e,t){if('function'!=typeof e||null!=t&&'function'!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(r.Cache||i),n}var i=n(15),a='Expected a function';r.Cache=i,e.exports=r},function(e,t,n){var r=n(117);e.exports=function(e){return null==e?'':r(e)}},function(e,t,n){function r(e){if('string'==typeof e)return e;if(o(e))return a(e,r)+'';if(l(e))return _?_.call(e):'';var t=e+'';return'0'==t&&1/e==-s?'-0':t}var i=n(4),a=n(23),o=n(0),l=n(21),s=1/0,d=i?i.prototype:void 0,_=d?d.toString:void 0;e.exports=r},function(e,t,n){var r=n(119),i=n(120);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(40),i=n(17),a=n(0),o=n(35),l=n(18),s=n(11);e.exports=function(e,t,n){t=r(t,e);for(var d,_=-1,u=t.length,p=!1;++_<u&&(d=s(t[_]),!!(p=null!=e&&n(e,d)));)e=e[d];return p||++_!=u?p:(u=null==e?0:e.length,!!u&&l(u)&&o(d,u)&&(a(e)||i(e)))}},function(e){e.exports=function(e){return e}},function(e,t,n){var r=n(123),i=n(124),a=n(20),o=n(11);e.exports=function(e){return a(e)?r(o(e)):i(e)}},function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(39);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(41),i=n(19);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},function(e,t,n){var r=n(127),i=n(16);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(128),i=r();e.exports=i},function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var s=o[e?l:++i];if(!1===n(a[s],s,a))break}return t}}},function(e,t,n){var r=n(19);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,l=Object(n);(t?o--:++o<a)&&!(!1===i(l[o],o,l)););return n}}},function(e,t,n){var r=n(131),i=n(133),a=Object.prototype,o=a.hasOwnProperty,l=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=l},function(e,t,n){var r=n(132);e.exports=function(e,t,n){'__proto__'==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(2),i=function(){try{var e=r(Object,'defineProperty');return e({},'',{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(134),i=n(135),a=n(24),o=n(0);e.exports=function(e,t){return function(n,l){var s=o(n)?r:i,d=t?t():{};return s(n,e,a(l,2),d)}}},function(e){e.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},function(e,t,n){var r=n(41);e.exports=function(e,t,n,i){return r(e,function(e,r,a){t(i,e,n(e),a)}),i}},function(e,t,n){var r=n(137);e.exports=function(e){var t=null==e?0:e.length;return t?r(e,1):[]}},function(e,t,n){function r(e,t,n,o,l){var s=-1,d=e.length;for(n||(n=a),l||(l=[]);++s<d;){var _=e[s];0<t&&n(_)?1<t?r(_,t-1,n,o,l):i(l,_):!o&&(l[l.length]=_)}return l}var i=n(32),a=n(138);e.exports=r},function(e,t,n){var r=n(4),i=n(17),a=n(0),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},function(e,t){'use strict';t.a=(e)=>{let t,n;return e.withHandler((e,r)=>{'end'===r.type&&e.end(),'value'===r.type&&(t=r.value,!n&&(n=window.requestAnimationFrame(()=>{n=null,e.emit(t)})))})}},function(t,n,r){'use strict';var i=r(6);n.a=Object(i.a)({type:'rectangle',props:{x:0,y:0,width:1,height:1,rotation:0,hue:0,saturation:1,lightness:0.5,alpha:1},render:(t)=>(n,r)=>{const{x:i,y:a,width:o,height:l,rotation:s,hue:d,saturation:_,lightness:u,alpha:p}=n;t.translate(i,a),r(),t.rotate(s*e/180),t.translate(-o/2,-l/2),t.fillStyle=`hsla(${d}, ${100*_}%, ${100*u}%, ${p})`,t.fillRect(0,0,o,l)}})},function(t,n,r){'use strict';var i=r(6);n.a=Object(i.a)({type:'triangle',props:{x:0,y:0,size:1,rotation:0,hue:0,saturation:1,lightness:0.5,alpha:1},render:(t)=>(n,r)=>{const{x:i,y:a,size:o,rotation:l,hue:s,saturation:d,lightness:_,alpha:u}=n;t.translate(i,a),r(),t.rotate(l*e/180),t.translate(-o/2,-o/2),t.beginPath(),t.moveTo(o/2,0),t.lineTo(o,o),t.lineTo(0,o),t.fillStyle=`hsla(${s}, ${100*d}%, ${100*_}%, ${u})`,t.fill()}})},function(e,t,n){'use strict';var r=n(6);t.a=Object(r.a)({type:'line',props:{x1:0,y1:0,x2:0.5,y2:0.5,width:0.01,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t)=>{const{x1:n,y1:r,x2:i,y2:a,width:o,hue:l,saturation:s,lightness:d,alpha:_}=t;e.beginPath(),e.lineWidth=o,e.moveTo(n,r),e.lineTo(i,a),e.strokeStyle=`hsla(${l}, ${100*s}%, ${100*d}%, ${_})`,e.stroke()}})},function(e,t,n){'use strict';var r=n(12),i=n.n(r),a=n(44),o=n(144),l=n.n(o);const s=new l.a(document);document.addEventListener('touchstart',(t)=>{t.preventDefault()},{passive:!1}),t.a={tap:Object(a.a)(Object(r.stream)((t)=>{s.on('tap',(n)=>{t.emit(1),setTimeout(()=>{t.emit(0)},n.deltaTime)})}),0),swipe:Object(a.a)(Object(r.stream)((t)=>{s.on('swipe',(n)=>{setTimeout(()=>{t.emit(1),setTimeout(()=>{t.emit(0)},n.deltaTime)},100)})}),0),down:Object(a.a)(Object(r.merge)([Object(r.fromEvents)(document,'touchstart').map(()=>1),Object(r.fromEvents)(document,'touchend').map(()=>0)]),0),x:Object(a.a)(Object(r.merge)([Object(r.fromEvents)(document,'touchmove').map((t)=>t.changedTouches[0].clientX/window.innerWidth),Object(r.fromEvents)(document,'touchstart').map((t)=>t.changedTouches[0].clientX/window.innerWidth)])),y:Object(a.a)(Object(r.merge)([Object(r.fromEvents)(document,'touchmove').map((t)=>t.changedTouches[0].clientY/window.innerHeight),Object(r.fromEvents)(document,'touchstart').map((t)=>t.changedTouches[0].clientY/window.innerHeight)]))}},function(t,n,r){var i;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(a,o,l){'use strict';function s(e,t,n){return setTimeout(c(e,n),t)}function d(e,t,n){return!!Array.isArray(e)&&(_(e,n[t],n),!0)}function _(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function u(t,n,r){return function(){var i=new Error('get-stack-trace'),e=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,'').replace(/^\s+at\s+/gm,'').replace(/^Object.<anonymous>\s*\(/gm,'{anonymous}()@'):'Unknown Stack Trace',o=a.console&&(a.console.warn||a.console.log);return o&&o.call(a.console,'DEPRECATED METHOD: '+n+'\n'+r+' AT \n',e),t.apply(this,arguments)}}function p(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&fe(r,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function f(e,t){return typeof e==ge?e.apply(t?t[0]||void 0:void 0,t):e}function h(e,t){return e===void 0?t:e}function m(e,t,n){_(b(t),function(t){e.addEventListener(t,n,!1)})}function y(e,t,n){_(b(t),function(t){e.removeEventListener(t,n,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return-1<e.indexOf(t)}function b(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function x(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r,a=[],o=[],l=0;l<e.length;)r=t?e[l][t]:e[l],0>E(o,r)&&a.push(e[l]),o[l]=r,l++;return n&&(t?a=a.sort(function(e,n){return e[t]>n[t]}):a=a.sort()),a}function A(e,t){for(var n,r,a=t[0].toUpperCase()+t.slice(1),o=0;o<me.length;){if(n=me[o],r=n?n+a:t,r in e)return r;o++}return void 0}function S(){return Ae++}function V(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}function P(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){f(e.options.enable,[e])&&n.handler(t)},this.init()}function C(e){var t,n=e.options.inputClass;return t=n?n:Pe?q:Ce?Y:Ve?X:W,new t(e,I)}function I(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=t&Oe&&0==r-i;n.isFirst=!!a,n.isFinal=!!(t&(je|De)&&0==r-i),a&&(e.session={}),n.eventType=t,w(e,n),e.emit('hammer.input',n),e.recognize(n),e.session.prevInput=n}function w(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=$(t)),1<i&&!n.firstMultiple?n.firstMultiple=$(t):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,l=o?o.center:a.center,s=t.center=j(r);t.timeStamp=Ee(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=z(l,s),t.distance=N(l,s),k(n,t),t.offsetDirection=L(t.deltaX,t.deltaY);var d=D(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=be(d.x)>be(d.y)?d.x:d.y,t.scale=o?M(o.pointers,r):1,t.rotation=o?H(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,O(n,t);var _=e.element;g(t.srcEvent.target,_)&&(_=t.srcEvent.target),t.target=_}function k(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};(t.eventType===Oe||a.eventType===je)&&(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function O(e,t){var n,r,i,a,o=e.lastInterval||t,l=t.timeStamp-o.timeStamp;if(t.eventType!=De&&(l>ke||o.velocity===void 0)){var s=t.deltaX-o.deltaX,d=t.deltaY-o.deltaY,_=D(l,s,d);r=_.x,i=_.y,n=be(_.x)>be(_.y)?_.x:_.y,a=L(s,d),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=a}function $(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ve(e.pointers[n].clientX),clientY:ve(e.pointers[n].clientY)},n++;return{timeStamp:Ee(),pointers:t,center:j(t),deltaX:e.deltaX,deltaY:e.deltaY}}function j(e){var t=e.length;if(1===t)return{x:ve(e[0].clientX),y:ve(e[0].clientY)};for(var n=0,r=0,a=0;a<t;)n+=e[a].clientX,r+=e[a].clientY,a++;return{x:ve(n/t),y:ve(r/t)}}function D(e,t,n){return{x:t/e||0,y:n/e||0}}function L(e,t){return e===t?Le:be(e)>=be(t)?0>e?Ne:ze:0>t?He:Me}function N(e,t,n){n||(n=Fe);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function z(t,n,r){r||(r=Fe);var i=n[r[0]]-t[r[0]],a=n[r[1]]-t[r[1]];return 180*Math.atan2(a,i)/e}function H(e,t){return z(t[1],t[0],Ye)+z(e[1],e[0],Ye)}function M(e,t){return N(t[0],t[1],Ye)/N(e[0],e[1],Ye)}function W(){this.evEl=Xe,this.evWin=Be,this.pressed=!1,P.apply(this,arguments)}function q(){this.evEl=Ke,this.evWin=Ze,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=et,this.evWin=tt,this.started=!1,P.apply(this,arguments)}function F(e,t){var n=x(e.touches),r=x(e.changedTouches);return t&(je|De)&&(n=T(n.concat(r),'identifier',!0)),[n,r]}function Y(){this.evTarget=rt,this.targetIds={},P.apply(this,arguments)}function U(e,t){var n=x(e.touches),r=this.targetIds;if(t&(Oe|$e)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var a,i,o=x(e.changedTouches),l=[],s=this.target;if(i=n.filter(function(e){return g(e.target,s)}),t===Oe)for(a=0;a<i.length;)r[i[a].identifier]=!0,a++;for(a=0;a<o.length;)r[o[a].identifier]&&l.push(o[a]),t&(je|De)&&delete r[o[a].identifier],a++;return l.length?[T(i.concat(l),'identifier',!0),l]:void 0}function X(){P.apply(this,arguments);var e=c(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new W(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function B(e,t){e&Oe?(this.primaryTouch=t.changedPointers[0].identifier,Q.call(this,t)):e&(je|De)&&Q.call(this,t)}function Q(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);-1<e&&r.splice(e,1)};setTimeout(i,it)}}function G(e){for(var n=e.srcEvent.clientX,r=e.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var i=this.lastTouches[a],t=he(n-i.x),o=he(r-i.y);if(t<=at&&o<=at)return!0}return!1}function K(e,t){this.manager=e,this.set(t)}function Z(e){if(v(e,ut))return ut;var t=v(e,pt),n=v(e,ct);return t&&n?ut:t||n?t?pt:ct:v(e,_t)?_t:dt}function J(e){this.options=fe({},this.defaults,e||{}),this.id=S(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=ht,this.simultaneous={},this.requireFail=[]}function ee(e){if(e&bt)return'cancel';return e&gt?'end':e&yt?'move':e&mt?'start':''}function te(e){if(e==Me)return'down';return e==He?'up':e==Ne?'left':e==ze?'right':''}function ne(e,t){var n=t.manager;return n?n.get(e):e}function re(){J.apply(this,arguments)}function ie(){re.apply(this,arguments),this.pX=null,this.pY=null}function ae(){re.apply(this,arguments)}function oe(){J.apply(this,arguments),this._timer=null,this._input=null}function le(){re.apply(this,arguments)}function se(){re.apply(this,arguments)}function de(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _e(e,t){return t=t||{},t.recognizers=h(t.recognizers,_e.defaults.preset),new ue(e,t)}function ue(e,t){this.options=fe({},_e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=C(this),this.touchAction=new K(this,this.options.touchAction),pe(this,!0),_(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function pe(e,t){var n=e.element;if(n.style){var r;_(e.options.cssProps,function(i,a){r=A(n.style,a),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||''}),t||(e.oldCssProps={})}}function ce(e,t){var n=o.createEvent('Event');n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var fe,he=Math.abs,me=['','webkit','Moz','MS','ms','o'],ye=o.createElement('div'),ge='function',ve=Math.round,be=he,Ee=Date.now;fe='function'==typeof Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t,n=Object(e),r=1;r<arguments.length;r++)if(t=arguments[r],void 0!==t&&null!==t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};var xe=u(function(e,t,n){for(var r=Object.keys(t),a=0;a<r.length;)(!n||n&&void 0===e[r[a]])&&(e[r[a]]=t[r[a]]),a++;return e},'extend','Use `assign`.'),Te=u(function(e,t){return xe(e,t,!0)},'merge','Use `assign`.'),Ae=1,Se=/mobile|tablet|ip(ad|hone|od)|android/i,Ve='ontouchstart'in a,Pe=A(a,'PointerEvent')!==void 0,Ce=Ve&&Se.test(navigator.userAgent),Ie='touch',we='mouse',ke=25,Oe=1,$e=2,je=4,De=8,Le=1,Ne=2,ze=4,He=8,Me=16,We=Ne|ze,qe=He|Me,Re=We|qe,Fe=['x','y'],Ye=['clientX','clientY'];P.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(V(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(V(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:Oe,mousemove:$e,mouseup:je},Xe='mousedown',Be='mousemove mouseup';p(W,P,{handler:function(e){var t=Ue[e.type];t&Oe&&0===e.button&&(this.pressed=!0),t&$e&&1!==e.which&&(t=je);this.pressed&&(t&je&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:we,srcEvent:e}))}});var Qe={pointerdown:Oe,pointermove:$e,pointerup:je,pointercancel:De,pointerout:De},Ge={2:Ie,3:'pen',4:we,5:'kinect'},Ke='pointerdown',Ze='pointermove pointerup pointercancel';a.MSPointerEvent&&!a.PointerEvent&&(Ke='MSPointerDown',Ze='MSPointerMove MSPointerUp MSPointerCancel'),p(q,P,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace('ms',''),i=Qe[r],a=Ge[e.pointerType]||e.pointerType,o=E(t,e.pointerId,'pointerId');i&Oe&&(0===e.button||a==Ie)?0>o&&(t.push(e),o=t.length-1):i&(je|De)&&(n=!0);0>o||(t[o]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(o,1))}});var Je={touchstart:Oe,touchmove:$e,touchend:je,touchcancel:De},et='touchstart',tt='touchstart touchmove touchend touchcancel';p(R,P,{handler:function(e){var t=Je[e.type];if(t===Oe&&(this.started=!0),!!this.started){var n=F.call(this,e,t);t&(je|De)&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ie,srcEvent:e})}}});var nt={touchstart:Oe,touchmove:$e,touchend:je,touchcancel:De},rt='touchstart touchmove touchend touchcancel';p(Y,P,{handler:function(e){var t=nt[e.type],n=U.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ie,srcEvent:e})}});var it=2500,at=25;p(X,P,{handler:function(e,t,n){var r=n.pointerType==Ie,i=n.pointerType==we;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)B.call(this,t,n);else if(i&&G.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ot=A(ye.style,'touchAction'),lt=ot!==void 0,st='compute',dt='auto',_t='manipulation',ut='none',pt='pan-x',ct='pan-y',ft=function(){if(!lt)return!1;var e={},t=a.CSS&&a.CSS.supports;return['auto','manipulation','pan-y','pan-x','pan-x pan-y','none'].forEach(function(n){e[n]=!t||a.CSS.supports('touch-action',n)}),e}();K.prototype={set:function(e){e==st&&(e=this.compute()),lt&&this.manager.element.style&&ft[e]&&(this.manager.element.style[ot]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return _(this.manager.recognizers,function(t){f(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Z(e.join(' '))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=v(r,ut)&&!ft[ut],a=v(r,ct)&&!ft[ct],o=v(r,pt)&&!ft[pt];if(i){var l=1===e.pointers.length,s=2>e.distance,d=250>e.deltaTime;if(l&&s&&d)return}return o&&a?void 0:i||a&&n&We||o&&n&qe?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ht=1,mt=2,yt=4,gt=8,vt=gt,bt=16,Et=32;J.prototype={defaults:{},set:function(e){return fe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,'recognizeWith',this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,'dropRecognizeWith',this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(d(e,'requireFailure',this))return this;var t=this.requireFail;return e=ne(e,this),-1===E(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,'dropRequireFailure',this))return this;e=ne(e,this);var t=E(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<gt&&t(n.options.event+ee(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=gt&&t(n.options.event+ee(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=Et)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Et|ht)))return!1;e++}return!0},recognize:function(e){var t=fe({},e);return f(this.options.enable,[this,t])?void(this.state&(vt|bt|Et)&&(this.state=ht),this.state=this.process(t),this.state&(mt|yt|gt|bt)&&this.tryEmit(t)):(this.reset(),void(this.state=Et))},process:function(){},getTouchAction:function(){},reset:function(){}},p(re,J,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(mt|yt),i=this.attrTest(e);if(r&&(n&De||!i))return t|bt;return r||i?n&je?t|gt:t&mt?t|yt:mt:Et}}),p(ie,re,{defaults:{event:'pan',threshold:10,pointers:1,direction:Re},getTouchAction:function(){var e=this.options.direction,t=[];return e&We&&t.push(ct),e&qe&&t.push(pt),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&We?(i=0===a?Le:0>a?Ne:ze,n=a!=this.pX,r=he(e.deltaX)):(i=0===o?Le:0>o?He:Me,n=o!=this.pY,r=he(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return re.prototype.attrTest.call(this,e)&&(this.state&mt||!(this.state&mt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),p(ae,re,{defaults:{event:'pinch',threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(he(e.scale-1)>this.options.threshold||this.state&mt)},emit:function(e){if(1!==e.scale){var t=1>e.scale?'in':'out';e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),p(oe,J,{defaults:{event:'press',pointers:1,time:251,threshold:9},getTouchAction:function(){return[dt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(je|De)&&!i)this.reset();else if(e.eventType&Oe)this.reset(),this._timer=s(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&je)return vt;return Et},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state!==vt||(e&&e.eventType&je?this.manager.emit(this.options.event+'up',e):(this._input.timeStamp=Ee(),this.manager.emit(this.options.event,this._input)))}}),p(le,re,{defaults:{event:'rotate',threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(he(e.rotation)>this.options.threshold||this.state&mt)}}),p(se,re,{defaults:{event:'swipe',threshold:10,velocity:0.3,direction:We|qe,pointers:1},getTouchAction:function(){return ie.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(We|qe)?t=e.overallVelocity:n&We?t=e.overallVelocityX:n&qe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&je},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),p(de,J,{defaults:{event:'tap',pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_t]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&Oe&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=je)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||N(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0==l)return this.hasRequireFailures()?(this._timer=s(function(){this.state=vt,this.tryEmit()},t.interval,this),mt):vt}return Et},failTimeout:function(){return this._timer=s(function(){this.state=Et},this.options.interval,this),Et},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_e.VERSION='2.0.7',_e.defaults={domEvents:!1,touchAction:st,enable:!0,inputTarget:null,inputClass:null,preset:[[le,{enable:!1}],[ae,{enable:!1},['rotate']],[se,{direction:We}],[ie,{direction:We},['swipe']],[de],[de,{event:'doubletap',taps:2},['tap']],[oe]],cssProps:{userSelect:'none',touchSelect:'none',touchCallout:'none',contentZooming:'none',userDrag:'none',tapHighlightColor:'rgba(0,0,0,0)'}};var xt=2;ue.prototype={set:function(e){return fe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?xt:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&vt)&&(a=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],t.stopped!==xt&&(!a||n==a||n.canRecognizeWith(a))?n.recognize(e):n.reset(),!a&&n.state&(mt|yt|gt)&&(a=t.curRecognizer=n),o++}},get:function(e){if(e instanceof J)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(d(e,'add',this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,'remove',this))return this;if(e=this.get(e),e){var t=this.recognizers,n=E(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return _(b(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return _(b(e),function(e){t?n[e]&&n[e].splice(E(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ce(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&pe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},fe(_e,{INPUT_START:Oe,INPUT_MOVE:$e,INPUT_END:je,INPUT_CANCEL:De,STATE_POSSIBLE:ht,STATE_BEGAN:mt,STATE_CHANGED:yt,STATE_ENDED:gt,STATE_RECOGNIZED:vt,STATE_CANCELLED:bt,STATE_FAILED:Et,DIRECTION_NONE:Le,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:ze,DIRECTION_UP:He,DIRECTION_DOWN:Me,DIRECTION_HORIZONTAL:We,DIRECTION_VERTICAL:qe,DIRECTION_ALL:Re,Manager:ue,Input:P,TouchAction:K,TouchInput:Y,MouseInput:W,PointerEventInput:q,TouchMouseInput:X,SingleTouchInput:R,Recognizer:J,AttrRecognizer:re,Tap:de,Pan:ie,Swipe:se,Pinch:ae,Rotate:le,Press:oe,on:m,off:y,each:_,merge:Te,extend:xe,assign:fe,inherit:p,bindFn:c,prefixed:A});var Tt='undefined'==typeof a?'undefined'==typeof self?{}:self:a;Tt.Hammer=_e,(i=function(){return _e}.call(n,r,n,t),!(i!==void 0&&(t.exports=i)))})(window,document,'Hammer')}])});