(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('avio',[],t):'object'==typeof exports?exports.avio=t():e.avio=t()})('undefined'==typeof self?this:self,function(){var e=Math.min;return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=42)}([function(e){var t=Array.isArray;e.exports=t},function(e,t,n){var r=n(28),a='object'==typeof self&&self&&self.Object===Object&&self,i=r||a||Function('return this')();e.exports=i},function(e,t,n){var r=n(62),a=n(67);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(t,n,r){'use strict';function a(){return{width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio}}function i(){const{width:e,height:t}=m;e<t?g.scale(1,e/t):g.scale(t/e,1)}function o(t){g.save(),g.fillStyle='black',g.scale(m.width,m.height),g.fillRect(0,0,1,1),g.lineWidth=1/e(m.width,m.height),Object.keys(t).forEach((e)=>{t[e].forEach((t)=>{g.save(),v[e](t,i),g.restore()})}),g.restore()}function _(e){const t=e.type;E[t].push(e),x&&x.offValue(o);const n=y()(u()(E,(e)=>u()(e,(e)=>e.kefirProperty)));return x=Object(h.a)(Object(l.combine)([b,...n],(e,...t)=>f()(t,(e)=>e.type))).onValue(o),e}n.a=function({type:e,props:t,render:n}){return E[e]=[],v[e]=n(g),{create(){let n;const r=Object.assign({},t),a={};Object.keys(r).forEach((e)=>{Object.defineProperty(a,e,{configurable:!1,enumerable:!1,writable:!1,value(t){return r[e]=t,n&&n.emit(r),a}})});const i=Object(l.stream)((t)=>{n=t}).toProperty(()=>r);return Object.defineProperty(a,'kefirProperty',{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(r,'type',{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(a,'type',{configurable:!1,enumerable:!1,writable:!1,value:e}),_(a)}}};var l=r(12),d=r.n(l),s=r(49),u=r.n(s),p=r(132),f=r.n(p),c=r(138),y=r.n(c),h=r(141);const m=document.createElement('canvas'),g=m.getContext('2d');document.body.style.margin=0,document.body.appendChild(m),m.style.width='100%',m.style.height='100%',m.style.display='block';const b=Object(l.fromEvents)(window,'resize').map(a).toProperty(a);b.onValue(function(e){m.width=e.width,m.height=e.height});const v={},E={};let x},function(e,t,n){var r=n(5),a=n(63),i=n(64),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?'[object Undefined]':'[object Null]':o&&o in Object(e)?a(e):i(e)}},function(e,t,n){var r=n(1),a=r.Symbol;e.exports=a},function(e){e.exports=function(e){return null!=e&&'object'==typeof e}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(52),i=n(53),o=n(54),_=n(55),l=n(56);r.prototype.clear=a,r.prototype['delete']=i,r.prototype.get=o,r.prototype.has=_,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(26);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(2),a=r(Object,'create');e.exports=a},function(e,t,n){var r=n(76);e.exports=function(e,t){var n=e.__data__;return r(t)?n['string'==typeof t?'string':'hash']:n.map}},function(e,t,n){var r=n(21);e.exports=function(e){if('string'==typeof e||r(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(t,n,r){(function(r){(function(e,t){t(n)})(this,function(n){'use strict';function a(e){var t=function(){};return t.prototype=e,new t}function o(e){var t,n,r=arguments.length;for(t=1;t<r;t++)for(n in arguments[t])e[n]=arguments[t][n];return e}function i(e,t){var n,r=arguments.length;for(e.prototype=a(t.prototype),e.prototype.constructor=e,n=2;n<r;n++)o(e.prototype,arguments[n]);return e}function _(e,t){var n,r,a,i;if(0===e.length)return t;if(0===t.length)return e;for(i=0,n=Array(e.length+t.length),r=e.length,a=0;a<r;a++,i++)n[i]=e[a];for(r=t.length,a=0;a<r;a++,i++)n[i]=t[a];return n}function l(e,t){var n,r=e.length;for(n=0;n<r;n++)if(e[n]===t)return n;return-1}function d(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n]))return n;return-1}function s(e){var t,n=e.length,r=Array(n);for(t=0;t<n;t++)r[t]=e[t];return r}function u(e,t){var n,r,a,i=e.length;if(0<=t&&t<i){if(1===i)return[];for(n=Array(i-1),r=0,a=0;r<i;r++)r!==t&&(n[a]=e[r],a++);return n}return e}function p(e,t){var n,r=e.length,a=Array(r);for(n=0;n<r;n++)a[n]=t(e[n]);return a}function c(e,t){var n,r=e.length;for(n=0;n<r;n++)t(e[n])}function y(e,t){var n,r=e.length;for(n=0;n<r;n++)e[n]=t}function h(e,t){return-1!==l(e,t)}function m(t,n,r){var a,i=e(r,t.length+1),o=t.length-i+1,_=Array(i);for(a=o;a<i;a++)_[a-o]=t[a];return _[i-1]=n,_}function g(e,t,n){e===ft?t(n):e===n.type&&(e===ut||e===pt?t(n.value):t())}function b(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function v(){this._dispatcher=new b,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function E(){v.call(this)}function x(){v.call(this),this._currentEvent=null}function A(){return ct}function V(e){function t(e,t){var n=this;E.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return i(t,E,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){E.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}function T(e,t){return new yt(e,{x:t})}function k(e,t){return new S(e,{x:t})}function w(e,t){return 0===t.length?A():new ht(e,{xs:t})}function $(e,t){return new mt(e,{fn:t})}function j(t){function e(e){return t._emitValue(e),t._active}function n(n){return t._emit(n.type,n.value),t._active}return{value:e,error:function(e){return t._emitError(e),t._active},end:function(){return t._emitEnd(),t._active},event:n,emit:e,emitEvent:n}}function C(e,t){return new gt(e,{fn:t})}function O(e){E.call(this),this._fn=e,this._unsubscribe=null}function I(e){return new O(e)}function L(e){var t=!1;return I(function(n){t||(e(function(e){n.emit(e),n.end()}),t=!0)}).setName('fromCallback')}function z(e){var t=!1;return I(function(n){t||(e(function(e,t){e?n.error(e):n.emit(t),n.end()}),t=!0)}).setName('fromNodeCallback')}function M(e,t){return 0===t?function(){return e()}:1===t?function(t){return e(t[0])}:2===t?function(t){return e(t[0],t[1])}:3===t?function(t){return e(t[0],t[1],t[2])}:4===t?function(t){return e(t[0],t[1],t[2],t[3])}:function(t){return e.apply(null,t)}}function H(e,t,n){var r=n?n.length:0;return null==t?0===r?e():1===r?e(n[0]):2===r?e(n[0],n[1]):3===r?e(n[0],n[1],n[2]):4===r?e(n[0],n[1],n[2],n[3]):e.apply(null,n):0===r?e.call(t):e.apply(t,n)}function q(e,t,n){return I(function(r){var a=n?function(){r.emit(H(n,this,arguments))}:function(e){r.emit(e)};return e(a),function(){return t(a)}}).setName('fromSubUnsub')}function D(e,t,n){for(var r=void 0,a=void 0,o=0;o<bt.length;o++)if('function'==typeof e[bt[o][0]]&&'function'==typeof e[bt[o][1]]){r=bt[o][0],a=bt[o][1];break}if(r===void 0)throw new Error('target don\'t support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair');return q(function(n){return e[r](t,n)},function(n){return e[a](t,n)},n).setName('fromEvents')}function W(e){this._currentEvent={type:'value',value:e,current:!0}}function P(e){return new W(e)}function B(e){this._currentEvent={type:'error',value:e,current:!0}}function N(e){return new B(e)}function U(e,t){return function(n,r){var a=this;e.call(this),this._source=n,this._name=n._name+'.'+t,this._init(r),this._$handleAny=function(e){return a._handleAny(e)}}}function F(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case ut:return this._handleValue(e.value);case pt:return this._handleError(e.value);case st:return this._handleEnd();}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function R(e,t){var n=U(E,e);return i(n,E,F(E),t),n}function Q(e,t){var n=U(x,e);return i(n,x,F(x),t),n}function Y(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;if(null!==t&&'function'!=typeof t)throw new Error('You should call toProperty() with a function or no arguments.');return new vt(e,{fn:t})}function K(e){return new Et(e)}function G(e){var t=!1,n=I(function(n){if(!t){var r=function(e){n.emit(e),n.end()},a=function(e){n.error(e),n.end()},i=e.then(r,a);i&&'function'==typeof i.done&&i.done(),t=!0}});return Y(n,null).setName('fromPromise')}function X(){if('function'==typeof Promise)return Promise;throw new Error('There isn\'t default Promise, use shim or parameter')}function J(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Z(e){var t=e[kt]?e[kt]():e;return I(function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName('fromESObservable')}function ee(e){this._observable=e.takeErrors(1)}function te(){return new ee(this)}function ne(e,t,n){for(var r in e)e.hasOwnProperty(r)&&(t.push(r),n.push(e[r]))}function re(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0==t||t.index<e[n].index)&&(t=e[n]);return t.error}function ae(e,t,n){var r=this;E.call(this),this._activeCount=e.length,this._sources=_(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=Array(this._sources.length),this._latestErrors=Array(this._sources.length),y(this._latestValues,dt),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var a=function(e){r._$handlers.push(function(t){return r._handleAny(e,t)})},o=0;o<this._sources.length;o++)a(o)}function ie(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error('Combine can only combine active and passive collections of the same type.');return n=n?M(n,e.length+t.length):function(e){return e},0===e.length?A():new ae(e,t,n)}function oe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=arguments[2];if('object'!=typeof t||Array.isArray(t))throw new Error('Combine can only combine active and passive collections of the same type.');var r=[],a=[],i=[];ne(e,r,a),ne(t,r,i);return 0===a.length?A():new ae(a,i,function(e){for(var t={},a=e.length-1;0<=a;a--)t[r[a]]=e[a];return n?n(t):t})}function _e(e,t,n){return'function'==typeof t&&(n=t,t=void 0),Array.isArray(e)?ie(e,t,n):oe(e,t,n)}function le(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ct;return new(e._ofSameType($t,jt))(e,{fn:t})}function de(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:zt;return new(e._ofSameType(It,Lt))(e,{fn:t})}function se(e,t){return new(e._ofSameType(Ht,qt))(e,{n:t})}function ue(e,t){return new(e._ofSameType(Wt,Bt))(e,{n:t})}function pe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Rt;return new(e._ofSameType(Ut,Ft))(e,{fn:t})}function fe(e){return new(e._ofSameType(Yt,Kt))(e)}function ce(e,t){return new(e._ofSameType(Xt,Jt))(e,{n:t})}function ye(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:nn;return new(e._ofSameType(en,tn))(e,{fn:t})}function he(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_n;return new(e._ofSameType(an,on))(e,{fn:t})}function me(e,t){return[e,t]}function ge(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:dt;return new(e._ofSameType(dn,sn))(e,{fn:t||me,seed:n})}function be(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:dt;return new un(e,{fn:t,seed:n})}function ve(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:cn;return new pn(e,{fn:t})}function Ee(e,t){return new(e._ofSameType(hn,mn))(e,{wait:t})}function xe(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.leading,a=n.trailing;return new(e._ofSameType(vn,En))(e,{wait:t,leading:!(r!==void 0)||r,trailing:!(a!==void 0)||a})}function Ae(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.immediate;return new(e._ofSameType(An,Sn))(e,{wait:t,immediate:r!==void 0&&r})}function Se(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:wn;return new(e._ofSameType(Tn,kn))(e,{fn:t})}function Ve(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Cn;return new(e._ofSameType($n,jn))(e,{fn:t})}function Te(e){return new(e._ofSameType(In,Ln))(e)}function ke(e){return new(e._ofSameType(Mn,Hn))(e)}function we(e){return new(e._ofSameType(Dn,Wn))(e)}function Pe(e,t){return new(e._ofSameType(Nn,Un))(e,{fn:t})}function $e(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return new(e._ofSameType(Rn,Qn))(e,{min:n,max:t})}function je(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.flushOnEnd;return new(e._ofSameType(Kn,Gn))(e,{fn:t||Xn,flushOnEnd:!(r!==void 0)||r})}function Ce(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=n.flushOnEnd;return new(e._ofSameType(Zn,er))(e,{count:t,flushOnEnd:!(r!==void 0)||r})}function Oe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=r.flushOnEnd;return new(e._ofSameType(nr,rr))(e,{wait:t,count:n,flushOnEnd:!(a!==void 0)||a})}function Ie(e){return{"@@transducer/step":function(t,n){return e._emitValue(n),null},"@@transducer/result":function(){return e._emitEnd(),null}}}function Le(e,t){return new(e._ofSameType(ir,or))(e,{transducer:t})}function ze(e,t){return new(e._ofSameType(lr,dr))(e,{fn:t})}function Me(e,t){var n=this;E.call(this),this._buffers=p(e,function(e){return sr(e)?s(e):[]}),this._sources=p(e,function(e){return sr(e)?A():e}),this._combinator=t?M(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var r=function(e){n._$handlers.push(function(t){return n._handleAny(e,t)})},a=0;a<this._sources.length;a++)r(a)}function He(e,t){return 0===e.length?A():new Me(e,t)}function qe(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},n=t.queueLim,r=n===void 0?0:n,a=t.concurLim,i=a===void 0?-1:a,o=t.drop,_=o===void 0?'new':o;E.call(this),this._queueLim=0>r?-1:r,this._concurLim=0>i?-1:i,this._drop=_,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function De(e){qe.call(this),this._addAll(e),this._initialised=!0}function We(e){return 0===e.length?A():new De(e)}function Be(e){var t=this;E.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}function Ne(e){return pr(function(t){return!!(e.length>t)&&e[t]}).setName('concat')}function Ue(){qe.call(this)}function Fe(e,t,n){var r=this;qe.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return r._handleMain(e)}}function Re(e,t){Fe.call(this,e,t)}function Qe(e,t){return function(n,r,a){var i=this;e.call(this),this._primary=n,this._secondary=r,this._name=n._name+'.'+t,this._lastSecondary=dt,this._$handleSecondaryAny=function(e){return i._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return i._handlePrimaryAny(e)},this._init(a)}}function Ye(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case ut:return this._handlePrimaryValue(e.value);case pt:return this._handlePrimaryError(e.value);case st:return this._handlePrimaryEnd(e.value);}},_handleSecondaryAny:function(e){switch(e.type){case ut:return this._handleSecondaryValue(e.value);case pt:return this._handleSecondaryError(e.value);case st:this._handleSecondaryEnd(e.value),this._removeSecondary();}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Ke(e,t){var n=Qe(E,e);return i(n,E,Ye(E),t),n}function Ge(e,t){var n=Qe(x,e);return i(n,x,Ye(x),t),n}function Xe(e,t){return new(e._ofSameType(cr,yr))(e,t)}function Je(e,t,n){var r=n?function(e,t){return n(t,e)}:hr;return _e([t],[e],r).setName(e,'sampledBy')}function Ze(e,t){return new(e._ofSameType(gr,br))(e,t)}function et(e,t){return new(e._ofSameType(Er,xr))(e,t)}function tt(e,t,n){return new(e._ofSameType(Sr,Vr))(e,t,n)}function nt(e,t,n){return new(e._ofSameType(kr,wr))(e,t,n)}function rt(e,t){var n=We([le(e,f),le(t,Pr)]);return n=he(n),n=Y(n,Pr),n.setName(e,'awaiting')}function at(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Cr;return new(e._ofSameType($r,jr))(e,{fn:t})}function it(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:zr;return new(e._ofSameType(Ir,Lr))(e,{fn:t})}function ot(e){return new(e._ofSameType(Hr,qr))(e)}function _t(e){if(Wr&&console&&'function'==typeof console.warn){console.warn(e,'\nHere is an Error object for you containing the call stack:',new Error)}}var lt=Math.max,dt=['<nothing>'],st='end',ut='value',pt='error',ft='any';o(b.prototype,{add:function(e,t){return this._items=_(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=d(this._items,function(n){return n.type===e&&n.fn===t});return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=u(this._items,n),this._items.length},addSpy:function(e){return this._spies=_(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=u(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var r=0,a=this._items;r<a.length&&!(null===this._items);r++)if(!(null!==this._removedItems&&h(this._removedItems,a[r]))){g(a[r].type,a[r].fn,e)}this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),o(v.prototype,{_name:'observable',_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){return e===ut?this._emitValue(t):e===pt?this._emitError(t):e===st?this._emitEnd():void 0},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:ut,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:pt,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:st}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):g(e,t,{type:st}),this},_off:function(e,t){if(this._alive){var n=this._dispatcher.remove(e,t);0===n&&this._setActive(!1)}return this},onValue:function(e){return this._on(ut,e)},onError:function(e){return this._on(pt,e)},onEnd:function(e){return this._on(st,e)},onAny:function(e){return this._on(ft,e)},offValue:function(e){return this._off(ut,e)},offError:function(e){return this._off(pt,e)},offEnd:function(e){return this._off(st,e)},offAny:function(e){return this._off(ft,e)},observe:function(e,t,n){var r=this,a=!1,i=e&&'function'!=typeof e?e:{value:e,error:t,end:n},o=function(e){e.type===st&&(a=!0),e.type===ut&&i.value?i.value(e.value):e.type===pt&&i.error?i.error(e.value):e.type===st&&i.end&&i.end(e.value)};return this.onAny(o),{unsubscribe:function(){a||(r.offAny(o),a=!0)},get closed(){return a}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+'.'+t:e,this},log:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),n=function(n){var r='<'+n.type+(e?':current':'')+'>';n.type===st?console.log(t,r):console.log(t,r,n.value)};return this._alive&&(!this._logHandlers&&(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),e=!0,this.onAny(n),e=!1,this},offLog:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var t=d(this._logHandlers,function(t){return t.name===e});-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n='<'+t.type+'>';t.type===st?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(!this._spyHandlers&&(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var t=d(this._spyHandlers,function(t){return t.name===e});-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),v.prototype.toString=function(){return'['+this._name+']'},i(E,v,{_name:'stream',getType:function(){return'stream'}}),i(x,v,{_name:'property',_emitValue:function(e){this._alive&&(this._currentEvent={type:ut,value:e},!this._activating&&this._dispatcher.dispatch({type:ut,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:pt,value:e},!this._activating&&this._dispatcher.dispatch({type:pt,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,!this._activating&&this._dispatcher.dispatch({type:st}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&g(e,t,this._currentEvent),this._alive||g(e,t,{type:st}),this},getType:function(){return'property'}});var ct=new E;ct._emitEnd(),ct._name='never';var yt=V({_name:'later',_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),S=V({_name:'interval',_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),ht=V({_name:'sequentially',_init:function(e){var t=e.xs;this._xs=s(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),mt=V({_name:'fromPoll',_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}}),gt=V({_name:'withInterval',_init:function(e){var t=e.fn;this._fn=t,this._emitter=j(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var e=this._fn;e(this._emitter)}});i(O,E,{_name:'stream',_onActivation:function(){var e=this._fn,t=e(j(this));this._unsubscribe='function'==typeof t?t:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){E.prototype._clear.call(this),this._fn=null}});var bt=[['addEventListener','removeEventListener'],['addListener','removeListener'],['on','off']];i(W,x,{_name:'constant',_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),i(B,x,{_name:'constantError',_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var vt=Q('toProperty',{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}}),Et=R('changes',{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}}),xt=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:X(),n=null;return new t(function(t,r){e.onAny(function(e){e.type===st&&null!=n?((n.type===ut?t:r)(n.value),n=null):n=e})})},At='undefined'==typeof window?'undefined'==typeof r?'undefined'==typeof self?{}:self:r:window,St=J(function(e,t){Object.defineProperty(t,'__esModule',{value:!0}),t['default']=function(e){var t,n=e.Symbol;return'function'==typeof n?n.observable?t=n.observable:(t=n('observable'),n.observable=t):t='@@observable',t}}),Vt=J(function(e,t){Object.defineProperty(t,'__esModule',{value:!0});var n,r=function(e){return e&&e.__esModule?e:{default:e}}(St);n='undefined'==typeof self?'undefined'==typeof window?'undefined'==typeof At?e:At:window:self;var a=(0,r['default'])(n);t['default']=a}),Tt=Vt,kt=Tt.default?Tt.default:Tt;o(ee.prototype,{subscribe:function(e,t,n){var r=this,a='function'==typeof e?{next:e,error:t,complete:n}:e,i=function(e){e.type===st&&(o=!0),e.type===ut&&a.next?a.next(e.value):e.type===pt&&a.error?a.error(e.value):e.type===st&&a.complete&&a.complete(e.value)};this._observable.onAny(i);var o=!1,_={unsubscribe:function(){o=!0,r._observable.offAny(i)},get closed(){return o}};return _}}),ee.prototype[kt]=function(){return this},i(ae,E,{_name:'combine',_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e,t=this._sources.length;for(e=0;e<t;e++)this._sources[e].offAny(this._$handlers[e])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,r=Array(n),a=Array(n),o=0;o<n;o++)r[o]=this._latestValues[o],a[o]=this._latestErrors[o],r[o]===dt&&(e=!1),void 0!==a[o]&&(t=!0);if(e){var i=this._combinator;this._emitValue(i(r))}t&&this._emitError(re(a))},_handleAny:function(e,t){t.type===ut||t.type===pt?(t.type===ut&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===pt&&(this._latestValues[e]=dt,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var wt=Object.freeze({Observable:{empty:function(){return A()},concat:function(e,t){return e.merge(t)},of:function(e){return P(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return _e([e,t],function(e,t){return e(t)})},chain:function(e,t){return t.flatMap(e)}}}),Pt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},$t=R('map',Pt),jt=Q('map',Pt),Ct=function(e){return e},Ot={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)&&this._emitValue(e)}},It=R('filter',Ot),Lt=Q('filter',Ot),zt=function(e){return e},Mt={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleValue:function(e){0===this._n||(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},Ht=R('take',Mt),qt=Q('take',Mt),Dt={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleError:function(e){0===this._n||(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},Wt=R('takeErrors',Dt),Bt=Q('takeErrors',Dt),Nt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)?this._emitValue(e):this._emitEnd()}},Ut=R('takeWhile',Nt),Ft=Q('takeWhile',Nt),Rt=function(e){return e},Qt={_init:function(){this._lastValue=dt},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==dt&&this._emitValue(this._lastValue),this._emitEnd()}},Yt=R('last',Qt),Kt=Q('last',Qt),Gt={_init:function(e){var t=e.n;this._n=lt(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Xt=R('skip',Gt),Jt=Q('skip',Gt),Zt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},en=R('skipWhile',Zt),tn=Q('skipWhile',Zt),nn=function(e){return e},rn={_init:function(e){var t=e.fn;this._fn=t,this._prev=dt},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==dt&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},an=R('skipDuplicates',rn),on=Q('skipDuplicates',rn),_n=function(e,t){return e===t},ln={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==dt){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},dn=R('diff',ln),sn=Q('diff',ln),un=Q('scan',{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==dt&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===pt?this._emitValue(this._seed===dt?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),pn=R('flatten',{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=this._fn,n=t(e),r=0;r<n.length;r++)this._emitValue(n[r])}}),cn=function(e){return e},fn={},yn={_init:function(e){var t=this,n=e.wait;this._wait=lt(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===fn?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(fn),setTimeout(this._$shiftBuff,this._wait))}},hn=R('delay',yn),mn=Q('delay',yn),gn=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},bn={_init:function(e){var t=this,n=e.wait,r=e.leading,a=e.trailing;this._wait=lt(0,n),this._leading=r,this._trailing=a,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=gn();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);0>=n?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?gn():0,this._endLater&&this._emitEnd()}},vn=R('throttle',bn),En=Q('throttle',bn),xn={_init:function(e){var t=this,n=e.wait,r=e.immediate;this._wait=lt(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=gn(),this._immediate&&!this._timeoutId&&this._emitValue(e),!this._timeoutId&&(this._timeoutId=setTimeout(this._$later,this._wait)),!this._immediate&&(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=gn()-this._lastAttempt;e<this._wait&&0<=e?this._timeoutId=setTimeout(this._$later,this._wait-e):(this._timeoutId=null,!this._immediate&&(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},An=R('debounce',xn),Sn=Q('debounce',xn),Vn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},Tn=R('mapErrors',Vn),kn=Q('mapErrors',Vn),wn=function(e){return e},Pn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;t(e)&&this._emitError(e)}},$n=R('filterErrors',Pn),jn=Q('filterErrors',Pn),Cn=function(e){return e},On={_handleValue:function(){}},In=R('ignoreValues',On),Ln=Q('ignoreValues',On),zn={_handleError:function(){}},Mn=R('ignoreErrors',zn),Hn=Q('ignoreErrors',zn),qn={_handleEnd:function(){}},Dn=R('ignoreEnd',qn),Wn=Q('ignoreEnd',qn),Bn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},Nn=R('beforeEnd',Bn),Un=Q('beforeEnd',Bn),Fn={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=m(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Rn=R('slidingWindow',Fn),Qn=Q('slidingWindow',Fn),Yn={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e);var t=this._fn;t(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Kn=R('bufferWhile',Yn),Gn=Q('bufferWhile',Yn),Xn=function(e){return e},Jn={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Zn=R('bufferWithCount',Jn),er=Q('bufferWithCount',Jn),tr={_init:function(e){var t=this,n=e.wait,r=e.count,a=e.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=a,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},nr=R('bufferWithTimeOrCount',tr),rr=Q('bufferWithTimeOrCount',tr),ar={_init:function(e){var t=e.transducer;this._xform=t(Ie(this))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform['@@transducer/step'](null,e)&&this._xform['@@transducer/result'](null)},_handleEnd:function(){this._xform['@@transducer/result'](null)}},ir=R('transduce',ar),or=Q('transduce',ar),_r={_init:function(e){var t=e.fn;this._handler=t,this._emitter=j(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},lr=R('withHandler',_r),dr=Q('withHandler',_r),sr=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)};i(Me,E,{_name:'zip',_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===ut&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===pt&&this._emitError(t.value),t.type===st&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var ur=function(e){return e};i(qe,E,{_name:'abstractPool',_add:function(e,t){t=t||ur,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):'old'===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;c(e,function(e){return t._add(e)})},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=_(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return void(e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive&&(this._curSources=_(this._curSources,[e]),this._active&&this._subToEnd(e))}else this._curSources=_(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=d(this._$endHandlers,function(t){return t.obs===e});-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===ut?this._emitValue(e.value):e.type===pt&&this._emitError(e.value)},_removeQueue:function(e){var t=l(this._queue,e);return this._queue=u(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=l(this._curSources,e);return this._curSources=u(this._curSources,t),-1!==t&&(0===this._queue.length?0===this._curSources.length&&this._onEmpty():this._pullQueue()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=s(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){E.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),i(De,qe,{_name:'merge',_onEmpty:function(){this._initialised&&this._emitEnd()}}),i(Be,E,{_name:'repeat',_handleAny:function(e){e.type===st?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){E.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var pr=function(e){return new Be(e)};i(Ue,qe,{_name:'pool',plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),i(Fe,qe,{_onActivation:function(){qe.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){qe.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){if(e.type===ut){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===pt&&this._emitError(e.value),e.type===st&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){qe.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),i(Re,Fe,{_handleMain:function(e){if(e.type===pt){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===ut&&this._emitValue(e.value),e.type===st&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var fr={_handlePrimaryValue:function(e){this._lastSecondary!==dt&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==dt&&this._lastSecondary||this._emitEnd()}},cr=Ke('filterBy',fr),yr=Ge('filterBy',fr),hr=function(e,t){return t},mr={_handlePrimaryValue:function(e){this._lastSecondary!==dt&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===dt&&this._emitEnd()}},gr=Ke('skipUntilBy',mr),br=Ge('skipUntilBy',mr),vr={_handleSecondaryValue:function(){this._emitEnd()}},Er=Ke('takeUntilBy',vr),xr=Ge('takeUntilBy',vr),Ar={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd;this._buff=[],this._flushOnEnd=!(t!==void 0)||t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},Sr=Ke('bufferBy',Ar),Vr=Ge('bufferBy',Ar),Tr={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd,n=e.flushOnChange;this._buff=[],this._flushOnEnd=!(t!==void 0)||t,this._flushOnChange=n!==void 0&&n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===dt||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===dt||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},kr=Ke('bufferWhileBy',Tr),wr=Ge('bufferWhileBy',Tr),Pr=function(){return!1},f=function(){return!0},t={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn,n=t(e);n.convert?this._emitError(n.error):this._emitValue(e)}},$r=R('valuesToErrors',t),jr=Q('valuesToErrors',t),Cr=function(e){return{convert:!0,error:e}},Or={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn,n=t(e);n.convert?this._emitValue(n.value):this._emitError(e)}},Ir=R('errorsToValues',Or),Lr=Q('errorsToValues',Or),zr=function(e){return{convert:!0,value:e}},Mr={_handleError:function(e){this._emitError(e),this._emitEnd()}},Hr=R('endOnError',Mr),qr=Q('endOnError',Mr);v.prototype.toProperty=function(e){return Y(this,e)},v.prototype.changes=function(){return K(this)},v.prototype.toPromise=function(e){return xt(this,e)},v.prototype.toESObservable=te,v.prototype[kt]=te,v.prototype.map=function(e){return le(this,e)},v.prototype.filter=function(e){return de(this,e)},v.prototype.take=function(e){return se(this,e)},v.prototype.takeErrors=function(e){return ue(this,e)},v.prototype.takeWhile=function(e){return pe(this,e)},v.prototype.last=function(){return fe(this)},v.prototype.skip=function(e){return ce(this,e)},v.prototype.skipWhile=function(e){return ye(this,e)},v.prototype.skipDuplicates=function(e){return he(this,e)},v.prototype.diff=function(e,t){return ge(this,e,t)},v.prototype.scan=function(e,t){return be(this,e,t)},v.prototype.flatten=function(e){return ve(this,e)},v.prototype.delay=function(e){return Ee(this,e)},v.prototype.throttle=function(e,t){return xe(this,e,t)},v.prototype.debounce=function(e,t){return Ae(this,e,t)},v.prototype.mapErrors=function(e){return Se(this,e)},v.prototype.filterErrors=function(e){return Ve(this,e)},v.prototype.ignoreValues=function(){return Te(this)},v.prototype.ignoreErrors=function(){return ke(this)},v.prototype.ignoreEnd=function(){return we(this)},v.prototype.beforeEnd=function(e){return Pe(this,e)},v.prototype.slidingWindow=function(e,t){return $e(this,e,t)},v.prototype.bufferWhile=function(e,t){return je(this,e,t)},v.prototype.bufferWithCount=function(e,t){return Ce(this,e,t)},v.prototype.bufferWithTimeOrCount=function(e,t,n){return Oe(this,e,t,n)},v.prototype.transduce=function(e){return Le(this,e)},v.prototype.withHandler=function(e){return ze(this,e)},v.prototype.thru=function(e){return e(this)},v.prototype.combine=function(e,t){return _e([this,e],t)},v.prototype.zip=function(e,t){return He([this,e],t)},v.prototype.merge=function(e){return We([this,e])},v.prototype.concat=function(e){return Ne([this,e])};var Dr=function(){return new Ue};v.prototype.flatMap=function(e){return new Fe(this,e).setName(this,'flatMap')},v.prototype.flatMapLatest=function(e){return new Fe(this,e,{concurLim:1,drop:'old'}).setName(this,'flatMapLatest')},v.prototype.flatMapFirst=function(e){return new Fe(this,e,{concurLim:1}).setName(this,'flatMapFirst')},v.prototype.flatMapConcat=function(e){return new Fe(this,e,{queueLim:-1,concurLim:1}).setName(this,'flatMapConcat')},v.prototype.flatMapConcurLimit=function(e,t){return new Fe(this,e,{queueLim:-1,concurLim:t}).setName(this,'flatMapConcurLimit')},v.prototype.flatMapErrors=function(e){return new Re(this,e).setName(this,'flatMapErrors')},v.prototype.filterBy=function(e){return Xe(this,e)},v.prototype.sampledBy=function(e,t){return Je(this,e,t)},v.prototype.skipUntilBy=function(e){return Ze(this,e)},v.prototype.takeUntilBy=function(e){return et(this,e)},v.prototype.bufferBy=function(e,t){return tt(this,e,t)},v.prototype.bufferWhileBy=function(e,t){return nt(this,e,t)};var Wr=!0;v.prototype.awaiting=function(e){return _t('You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145'),rt(this,e)},v.prototype.valuesToErrors=function(e){return _t('You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149'),at(this,e)},v.prototype.errorsToValues=function(e){return _t('You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149'),it(this,e)},v.prototype.endOnError=function(){return _t('You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150'),ot(this)};var Br={Observable:v,Stream:E,Property:x,never:A,later:T,interval:k,sequentially:w,fromPoll:$,withInterval:C,fromCallback:L,fromNodeCallback:z,fromEvents:D,stream:I,constant:P,constantError:N,fromPromise:G,fromESObservable:Z,combine:_e,zip:He,merge:We,concat:Ne,Pool:Ue,pool:Dr,repeat:pr,staticLand:wt};Br.Kefir=Br,n.dissableDeprecationWarnings=function(){Wr=!1},n.Kefir=Br,n.Observable=v,n.Stream=E,n.Property=x,n.never=A,n.later=T,n.interval=k,n.sequentially=w,n.fromPoll=$,n.withInterval=C,n.fromCallback=L,n.fromNodeCallback=z,n.fromEvents=D,n.stream=I,n.constant=P,n.constantError=N,n.fromPromise=G,n.fromESObservable=Z,n.combine=_e,n.zip=He,n.merge=We,n.concat=Ne,n.Pool=Ue,n.pool=Dr,n.repeat=pr,n.staticLand=wt,n['default']=Br,Object.defineProperty(n,'__esModule',{value:!0})})}).call(n,r(22))},function(e,t,n){var r=n(2),a=n(1),i=r(a,'Map');e.exports=i},function(e){e.exports=function(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(68),i=n(75),o=n(77),_=n(78),l=n(79);r.prototype.clear=a,r.prototype['delete']=i,r.prototype.get=o,r.prototype.has=_,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(96),a=n(103),i=n(19);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t,n){var r=n(98),a=n(6),i=Object.prototype,o=i.hasOwnProperty,_=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,'callee')&&!_.call(e,'callee')};e.exports=l},function(e){e.exports=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e,t,n){var r=n(27),a=n(18);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(0),a=n(21),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return'number'==n||'symbol'==n||'boolean'==n||null==e||a(e)||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(4),a=n(6);e.exports=function(e){return'symbol'==typeof e||a(e)&&r(e)=='[object Symbol]'}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){var r=n(50),a=n(113),i=n(123),o=n(0),_=n(124);e.exports=function(e){return'function'==typeof e?e:null==e?i:'object'==typeof e?o(e)?a(e[0],e[1]):r(e):_(e)}},function(e,t,n){function r(e){var t=this.__data__=new a(e);this.size=t.size}var a=n(7),i=n(57),o=n(58),_=n(59),l=n(60),d=n(61);r.prototype.clear=i,r.prototype['delete']=o,r.prototype.get=_,r.prototype.has=l,r.prototype.set=d,e.exports=r},function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(4),a=n(14);e.exports=function(e){if(!a(e))return!1;var t=r(e);return t=='[object Function]'||t=='[object GeneratorFunction]'||t=='[object AsyncFunction]'||t=='[object Proxy]'}},function(e,t,n){(function(t){var n='object'==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(22))},function(e){var t=Function.prototype,n=t.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e,t,n){function r(e,t,n,o,_){return!(e!==t)||(null!=e&&null!=t&&(i(e)||i(t))?a(e,t,n,o,r,_):e!==e&&t!==t)}var a=n(80),i=n(6);e.exports=r},function(e,t,n){var r=n(81),a=n(84),i=n(85);e.exports=function(e,t,n,o,_,l){var d=n&1,s=e.length,u=t.length;if(s!=u&&!(d&&u>s))return!1;var p=l.get(e);if(p&&l.get(t))return p==t;var f=-1,c=!0,y=n&2?new r:void 0;for(l.set(e,t),l.set(t,e);++f<s;){var h=e[f],m=t[f];if(o)var g=d?o(m,h,f,t,e,l):o(h,m,f,e,t,l);if(void 0!==g){if(g)continue;c=!1;break}if(y){if(!a(t,function(e,t){if(!i(y,t)&&(h===e||_(h,e,n,o,l)))return y.push(t)})){c=!1;break}}else if(!(h===m||_(h,m,n,o,l))){c=!1;break}}return l['delete'](e),l['delete'](t),c}},function(e){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){(function(e){var r=n(1),a=n(99),i='object'==typeof t&&t&&!t.nodeType&&t,o=i&&'object'==typeof e&&e&&!e.nodeType&&e,_=o&&o.exports===i,l=_?r.Buffer:void 0,d=l?l.isBuffer:void 0;e.exports=d||a}).call(t,n(34)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){return n=null==n?9007199254740991:n,!!n&&('number'==typeof e||t.test(e))&&-1<e&&0==e%1&&e<n}},function(e,t,n){var r=n(100),a=n(101),i=n(102),o=i&&i.isTypedArray,_=o?a(o):r;e.exports=_},function(e,t,n){var r=n(14);e.exports=function(e){return e===e&&!r(e)}},function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(t!==void 0||e in Object(n))}}},function(e,t,n){var r=n(40),a=n(11);e.exports=function(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(0),a=n(20),i=n(115),o=n(118);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var r=n(128),a=n(131),i=a(r);e.exports=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var r=n(43),a=n(45);t['default']={input:r.a,output:a.a}},function(e,t,n){'use strict';var r=n(12),a=n.n(r),i=n(44);t.a={create:function(){return{tap:i.a.create(Object(r.merge)([Object(r.fromEvents)(window,'mousedown').map(()=>1),Object(r.fromEvents)(window,'mouseup').map(()=>0)]),0),mouse:{x:i.a.create(Object(r.fromEvents)(window,'mousemove').map((t)=>t.clientX/window.innerWidth).skipDuplicates(),0),y:i.a.create(Object(r.fromEvents)(window,'mousemove').map((t)=>t.clientY/window.innerHeight).skipDuplicates(),0)}}}}},function(e,t,n){'use strict';function r(e){return'number'==typeof e?Object(o.constant)(e):e.kefirProperty}function a(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}function i(e,t=0){const n=e.toProperty(()=>t),_={kefirProperty:n};return Object.keys(l).forEach((e)=>{a(_,e,(...t)=>i(Object(o.combine)([n,...t.map((e)=>r(e))],l[e])))}),a(_,'connect',function(e){return n.onValue(e),this}),a(_,'log',function(){return n.log(),this}),a(_,'throttle',function(...e){return i(n.throttle(...e),0)}),a(_,'delay',function(...e){return i(n.delay(...e),0)}),_}var o=n(12),_=n.n(o);const l={add:(e,t)=>e+t,subtract:(e,t)=>e-t,multiply:(e,t)=>e*t,divide:(e,t)=>e/t,pow:(e,t)=>Math.pow(e,t),floor:(e)=>Math.floor(e),ceil:(e)=>Math.ceil(e)};t.a={create:i}},function(e,t,n){'use strict';var r=n(46),a=n(47);t.a={audio:r.a,visual:a.a}},function(e,t){'use strict';const n=new window.AudioContext;t.a={create:function(){const e=n.createOscillator(),t=n.createGain();e.frequency.setTargetAtTime(440,0,0),e.start(),e.connect(t),t.connect(n.destination),t.gain.setTargetAtTime(0,0,0);const r={gain:5e-3,frequency:5e-3};return{sine(){return e.type='sine',this},square(){return e.type='square',this},sawtooth(){return e.type='sawtooth',this},triangle(){return e.type='triangle',this},gainTransitionTime(e){return r.gain=e,this},frequencyTransitionTime(e){return r.frequency=e,this},gain(e){return t.gain.setTargetAtTime(e,0,r.gain),this},frequency(t){return e.frequency.setTargetAtTime(t,0,r.frequency),this}}}}},function(e,t,n){'use strict';var r=n(48),a=n(142),i=n(143),o=n(144),_=n(145);t.a={circle:r.a,rectangle:a.a,square:i.a,triangle:o.a,line:_.a}},function(e,t,n){'use strict';var r=n(3);t.a=Object(r.a)({type:'circle',props:{x:0.5,y:0.5,radius:0.5,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t,n)=>{const{x:r,y:a,radius:i,hue:o,saturation:_,lightness:l,alpha:d}=t;e.translate(r,a),n(),e.fillStyle=`hsla(${o}, ${100*_}%, ${100*l}%, ${d})`,e.beginPath(),e.arc(0,0,i,0,2*Math.PI),e.closePath(),e.fill()}})},function(e,t,n){var r=n(23),a=n(24),i=n(127),o=n(0);e.exports=function(e,t){var n=o(e)?r:i;return n(e,a(t,3))}},function(e,t,n){var r=n(51),a=n(112),i=n(38);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(25),a=n(30);e.exports=function(e,t,n,i){var o=n.length,_=o,l=!i;if(null==e)return!_;for(e=Object(e);o--;){var d=n[o];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<_;){d=n[o];var s=d[0],u=e[s],p=d[1];if(!(l&&d[2])){var f=new r;if(i)var c=i(u,p,s,e,t,f);if(void 0===c?!a(p,u,1|2,i,f):!c)return!1}else if(void 0===u&&!(s in e))return!1}return!0}},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(8),a=Array.prototype,i=a.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);if(0>n)return!1;var a=t.length-1;return n==a?t.pop():i.call(t,n,1),--this.size,!0}},function(e,t,n){var r=n(8);e.exports=function(e){var t=this.__data__,n=r(t,e);return 0>n?void 0:t[n][1]}},function(e,t,n){var r=n(8);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return 0>a?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=new r,this.size=0}},function(e){e.exports=function(e){var t=this.__data__,n=t['delete'](e);return this.size=t.size,n}},function(e){e.exports=function(e){return this.__data__.get(e)}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(7),a=n(13),i=n(15);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<200-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(27),a=n(65),i=n(14),o=n(29),_=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,d=Function.prototype,s=Object.prototype,u=d.toString,p=s.hasOwnProperty,f=RegExp('^'+u.call(p).replace(_,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');e.exports=function(e){if(!i(e)||a(e))return!1;var t=r(e)?f:l;return t.test(o(e))}},function(e,t,n){var r=n(5),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,_=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,_),n=e[_];try{e[_]=void 0}catch(t){}var r=o.call(e);return t?e[_]=n:delete e[_],r}},function(e){var t=Object.prototype,n=t.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(66),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||'');return e?'Symbol(src)_1.'+e:''}();e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(1),a=r['__core-js_shared__'];e.exports=a},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(69),a=n(7),i=n(13);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(70),i=n(71),o=n(72),_=n(73),l=n(74);r.prototype.clear=a,r.prototype['delete']=i,r.prototype.get=o,r.prototype.has=_,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(9);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(9),a=Object.prototype,i=a.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n==='__lodash_hash_undefined__'?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(9),a=Object.prototype,i=a.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?t[e]!==void 0:i.call(t,e)}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e,t,n){var r=n(10);e.exports=function(e){var t=r(this,e)['delete'](e);return this.size-=t?1:0,t}},function(e){e.exports=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,n){var r=n(10);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(10);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(10);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(25),a=n(31),i=n(86),o=n(90),_=n(107),l=n(0),d=n(33),s=n(36),u='[object Arguments]',p='[object Array]',f='[object Object]',c=Object.prototype,y=c.hasOwnProperty;e.exports=function(e,t,n,c,h,m){var g=l(e),b=l(t),v=g?p:_(e),E=b?p:_(t);v=v==u?f:v,E=E==u?f:E;var x=v==f,A=E==f,S=v==E;if(S&&d(e)){if(!d(t))return!1;g=!0,x=!1}if(S&&!x)return m||(m=new r),g||s(e)?a(e,t,n,c,h,m):i(e,t,v,n,c,h,m);if(!(n&1)){var V=x&&y.call(e,'__wrapped__'),T=A&&y.call(t,'__wrapped__');if(V||T){var k=V?e.value():e,w=T?t.value():t;return m||(m=new r),h(k,w,n,c,m)}}return!!S&&(m||(m=new r),o(e,t,n,c,h,m))}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}var a=n(15),i=n(82),o=n(83);r.prototype.add=r.prototype.push=i,r.prototype.has=o,e.exports=r},function(e){e.exports=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(5),a=n(87),i=n(26),o=n(31),_=n(88),l=n(89),d=r?r.prototype:void 0,s=d?d.valueOf:void 0;e.exports=function(e,t,n,r,d,u,p){switch(n){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return e.byteLength==t.byteLength&&u(new a(e),new a(t));case'[object Boolean]':case'[object Date]':case'[object Number]':return i(+e,+t);case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var f=_;case'[object Set]':var c=r&1;if(f||(f=l),e.size!=t.size&&!c)return!1;var y=p.get(e);if(y)return y==t;r|=2,p.set(e,t);var h=o(f(e),f(t),r,d,u,p);return p['delete'](e),h;case'[object Symbol]':if(s)return s.call(e)==s.call(t);}return!1}},function(e,t,n){var r=n(1),a=r.Uint8Array;e.exports=a},function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(91),a=Object.prototype,i=a.hasOwnProperty;e.exports=function(e,t,n,a,o,_){var l=n&1,d=r(e),s=d.length,u=r(t),p=u.length;if(s!=p&&!l)return!1;for(var f,c=s;c--;)if(f=d[c],l?!(f in t):!i.call(t,f))return!1;var y=_.get(e);if(y&&_.get(t))return y==t;var h=!0;_.set(e,t),_.set(t,e);for(var m=l;++c<s;){f=d[c];var g=e[f],b=t[f];if(a)var v=l?a(b,g,f,t,e,_):a(g,b,f,e,t,_);if(void 0===v?!(g===b||o(g,b,n,a,_)):!v){h=!1;break}m||(m='constructor'==f)}if(h&&!m){var E=e.constructor,x=t.constructor;E!=x&&'constructor'in e&&'constructor'in t&&!('function'==typeof E&&E instanceof E&&'function'==typeof x&&x instanceof x)&&(h=!1)}return _['delete'](e),_['delete'](t),h}},function(e,t,n){var r=n(92),a=n(93),i=n(16);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(32),a=n(0);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t,n){var r=n(94),a=n(95),i=Object.prototype,o=i.propertyIsEnumerable,_=Object.getOwnPropertySymbols,l=_?function(e){return null==e?[]:(e=Object(e),r(_(e),function(t){return o.call(e,t)}))}:a;e.exports=l},function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e){e.exports=function(){return[]}},function(e,t,n){var r=n(97),a=n(17),i=n(0),o=n(33),_=n(35),l=n(36),d=Object.prototype,s=d.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&a(e),u=!n&&!d&&o(e),p=!n&&!d&&!u&&l(e),f=n||d||u||p,c=f?r(e.length,String):[],y=c.length;for(var h in e)(t||s.call(e,h))&&!(f&&('length'==h||u&&('offset'==h||'parent'==h)||p&&('buffer'==h||'byteLength'==h||'byteOffset'==h)||_(h,y)))&&c.push(h);return c}},function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(4),a=n(6);e.exports=function(e){return a(e)&&r(e)=='[object Arguments]'}},function(e){e.exports=function(){return!1}},function(e,t,n){var r=n(4),a=n(18),i=n(6),o={};o['[object Float32Array]']=o['[object Float64Array]']=o['[object Int8Array]']=o['[object Int16Array]']=o['[object Int32Array]']=o['[object Uint8Array]']=o['[object Uint8ClampedArray]']=o['[object Uint16Array]']=o['[object Uint32Array]']=!0,o['[object Arguments]']=o['[object Array]']=o['[object ArrayBuffer]']=o['[object Boolean]']=o['[object DataView]']=o['[object Date]']=o['[object Error]']=o['[object Function]']=o['[object Map]']=o['[object Number]']=o['[object Object]']=o['[object RegExp]']=o['[object Set]']=o['[object String]']=o['[object WeakMap]']=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(28),a='object'==typeof t&&t&&!t.nodeType&&t,i=a&&'object'==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a,_=o&&r.process,l=function(){try{return _&&_.binding&&_.binding('util')}catch(t){}}();e.exports=l}).call(t,n(34)(e))},function(e,t,n){var r=n(104),a=n(105),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&'constructor'!=n&&t.push(n);return t}},function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor,r='function'==typeof n&&n.prototype||t;return e===r}},function(e,t,n){var r=n(106),a=r(Object.keys,Object);e.exports=a},function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(108),a=n(13),i=n(109),o=n(110),_=n(111),l=n(4),d=n(29),s='[object Map]',u='[object Promise]',p='[object Set]',f='[object WeakMap]',c='[object DataView]',y=d(r),h=d(a),m=d(i),g=d(o),b=d(_),v=l;(r&&v(new r(new ArrayBuffer(1)))!=c||a&&v(new a)!=s||i&&v(i.resolve())!=u||o&&v(new o)!=p||_&&v(new _)!=f)&&(v=function(e){var t=l(e),n=t=='[object Object]'?e.constructor:void 0,r=n?d(n):'';if(r)switch(r){case y:return c;case h:return s;case m:return u;case g:return p;case b:return f;}return t}),e.exports=v},function(e,t,n){var r=n(2),a=n(1),i=r(a,'DataView');e.exports=i},function(e,t,n){var r=n(2),a=n(1),i=r(a,'Promise');e.exports=i},function(e,t,n){var r=n(2),a=n(1),i=r(a,'Set');e.exports=i},function(e,t,n){var r=n(2),a=n(1),i=r(a,'WeakMap');e.exports=i},function(e,t,n){var r=n(37),a=n(16);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},function(e,t,n){var r=n(30),a=n(114),i=n(120),o=n(20),_=n(37),l=n(38),d=n(11);e.exports=function(e,t){return o(e)&&_(t)?l(d(e),t):function(n){var o=a(n,e);return o===void 0&&o===t?i(n,e):r(t,o,1|2)}}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return a===void 0?n:a}},function(e,t,n){var r=n(116),a=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,_=r(function(e){var t=[];return a.test(e)&&t.push(''),e.replace(i,function(e,n,r,a){t.push(r?a.replace(o,'$1'):n||e)}),t});e.exports=_},function(e,t,n){var r=n(117);e.exports=function(e){var t=r(e,function(e){return n.size===500&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){function r(e,t){if('function'!=typeof e||null!=t&&'function'!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(r.Cache||a),n}var a=n(15),i='Expected a function';r.Cache=a,e.exports=r},function(e,t,n){var r=n(119);e.exports=function(e){return null==e?'':r(e)}},function(e,t,n){function r(e){if('string'==typeof e)return e;if(o(e))return i(e,r)+'';if(_(e))return s?s.call(e):'';var t=e+'';return'0'==t&&1/e==-l?'-0':t}var a=n(5),i=n(23),o=n(0),_=n(21),l=1/0,d=a?a.prototype:void 0,s=d?d.toString:void 0;e.exports=r},function(e,t,n){var r=n(121),a=n(122);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(40),a=n(17),i=n(0),o=n(35),_=n(18),l=n(11);e.exports=function(e,t,n){t=r(t,e);for(var d,s=-1,u=t.length,p=!1;++s<u&&(d=l(t[s]),!!(p=null!=e&&n(e,d)));)e=e[d];return p||++s!=u?p:(u=null==e?0:e.length,!!u&&_(u)&&o(d,u)&&(i(e)||a(e)))}},function(e){e.exports=function(e){return e}},function(e,t,n){var r=n(125),a=n(126),i=n(20),o=n(11);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(39);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(41),a=n(19);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},function(e,t,n){var r=n(129),a=n(16);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(130),a=r();e.exports=a},function(e){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),_=o.length;_--;){var l=o[e?_:++a];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(19);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,_=Object(n);(t?o--:++o<i)&&!(!1===a(_[o],o,_)););return n}}},function(e,t,n){var r=n(133),a=n(135),i=Object.prototype,o=i.hasOwnProperty,_=a(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=_},function(e,t,n){var r=n(134);e.exports=function(e,t,n){'__proto__'==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(2),a=function(){try{var e=r(Object,'defineProperty');return e({},'',{}),e}catch(t){}}();e.exports=a},function(e,t,n){var r=n(136),a=n(137),i=n(24),o=n(0);e.exports=function(e,t){return function(n,_){var l=o(n)?r:a,d=t?t():{};return l(n,e,i(_,2),d)}}},function(e){e.exports=function(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}},function(e,t,n){var r=n(41);e.exports=function(e,t,n,a){return r(e,function(e,r,i){t(a,e,n(e),i)}),a}},function(e,t,n){var r=n(139);e.exports=function(e){var t=null==e?0:e.length;return t?r(e,1):[]}},function(e,t,n){function r(e,t,n,o,_){var l=-1,d=e.length;for(n||(n=i),_||(_=[]);++l<d;){var s=e[l];0<t&&n(s)?1<t?r(s,t-1,n,o,_):a(_,s):!o&&(_[_.length]=s)}return _}var a=n(32),i=n(140);e.exports=r},function(e,t,n){var r=n(5),a=n(17),i=n(0),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},function(e,t){'use strict';t.a=(e)=>{let t,n;return e.withHandler((e,r)=>{'end'===r.type&&e.end(),'value'===r.type&&(t=r.value,!n&&(n=window.requestAnimationFrame(()=>{n=null,e.emit(t)})))})}},function(e,t,n){'use strict';var r=n(3);t.a=Object(r.a)({type:'rectangle',props:{x:0.5,y:0.5,width:1,height:1,rotation:0,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t)=>{const{x:n,y:r,width:a,height:i,hue:o,saturation:_,lightness:l,alpha:d}=t;e.translate(n,r),e.translate(-a/2,-i/2),e.fillStyle=`hsla(${o}, ${100*_}%, ${100*l}%, ${d})`,e.fillRect(0,0,a,i)}})},function(e,t,n){'use strict';var r=n(3);t.a=Object(r.a)({type:'square',props:{x:0.5,y:0.5,size:1,rotation:0,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t,n)=>{const{x:r,y:a,size:i,hue:o,saturation:_,lightness:l,alpha:d}=t;e.translate(r,a),n(),e.translate(-i/2,-i/2),e.fillStyle=`hsla(${o}, ${100*_}%, ${100*l}%, ${d})`,e.fillRect(0,0,i,i)}})},function(e,t,n){'use strict';var r=n(3);t.a=Object(r.a)({type:'square',props:{x:0.5,y:0.5,size:1,rotation:0,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t,n)=>{const{x:r,y:a,size:i,hue:o,saturation:_,lightness:l,alpha:d}=t;e.translate(r,a),n(),e.translate(-i/2,-i/2),e.beginPath(),e.moveTo(i/2,0),e.lineTo(i,i),e.lineTo(0,i),e.fillStyle=`hsla(${o}, ${100*_}%, ${100*l}%, ${d})`,e.fill()}})},function(e,t,n){'use strict';var r=n(3);t.a=Object(r.a)({type:'rectangle',props:{x1:0.5,y1:0,x2:0.5,y2:1,width:0.1,hue:0,saturation:1,lightness:0.5,alpha:1},render:(e)=>(t)=>{const{x1:n,y1:r,x2:a,y2:i,width:o,hue:_,saturation:l,lightness:d,alpha:s}=t;e.beginPath(),e.lineWidth=o,e.moveTo(n,r),e.lineTo(a,i),e.strokeStyle=`hsla(${_}, ${100*l}%, ${100*d}%, ${s})`,e.stroke()}})}])['default']});